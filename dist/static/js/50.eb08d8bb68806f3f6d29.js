webpackJsonp([50],{PXoQ:function(e,t){},lo1z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"userQuery",data:function(){var e=this;return{usersParams:{type:"1",keyWords:"",selectItem:2,endTime:"",startTime:"",page:1,pageSize:10},total:0,columns1:[{title:"UID",key:"id",align:"center"},{key:"mobileNumber",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.phone"))}},{key:"email",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.email"))}},{key:"countryCode",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.country"))}},{key:"nickname",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.nickname"))}},{key:"userLevel",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.level"))}},{key:"ctimeLong",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.time"))},render:function(t,a){return t("span",{},e.$tool.date.format(new Date(a.row.ctimeLong),"yyyy/MM/dd hh:mm:ss"))}},{key:"ip",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.ip"))}},{key:"ip",align:"center",renderHeader:function(e,t){return e("span",{},"标签")}},{key:"ip",align:"center",renderHeader:function(e,t){return e("span",{},"修改标签")}},{key:"address",align:"center",renderHeader:function(t,a){return t("span",{},e.$t("userSearch.status"))},render:function(t,a){return t("span",{},[0==a.row.loginStatus?t("span",{style:{color:"green",marginLeft:"10px"}},e.$t("button.normal")):t("span",{style:{color:"red",marginLeft:"10px"}},e.$t("button.frozen")),t("a",{style:{color:"blue",marginLeft:"10px"},on:{click:function(){e.$router.push({path:"/userFreeze",query:{status:a.row.loginStatus,id:a.row.id}})}}},0==a.row.loginStatus?e.$t("button.freeze"):1==a.row.loginStatus?e.$t("button.unfreeze"):"")])}}],data1:[]}},beforeRouteUpdate:function(e,t,a){"userFreeze"===t.name&&this.users(),a()},methods:{exportTable:function(){var e=[];this.data1.forEach(function(t){e.push(t.id)}),location.href="http://admin.paimaisuo.talkingcake.cn/api/user/userExportExcel?idList="+e},changePage:function(e){this.usersParams.page=e,this.users()},changePageSize:function(e){this.usersParams.pageSize=e,this.users()},users:function(){var e=this,t=new FormData;t.append("page",this.usersParams.page),t.append("pageSize",this.usersParams.pageSize),this.usersParams.keyWords&&(t.append("keyWords",this.usersParams.keyWords),t.append("type",this.usersParams.type)),this.usersParams.startTime&&this.usersParams.endTime&&(t.append("startTime",this.usersParams.startTime.valueOf()),t.append("endTime",this.usersParams.endTime.valueOf())),this.$axios.post("/api/user/showUsersByLimits",t).then(function(t){e.data1=t.data.data.records,e.total=t.data.data.total,console.log(t.data)})}},mounted:function(){this.users()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",[a("Col",{attrs:{span:"24"}},[a("span",{staticStyle:{"font-weight":"bold"}},[e._v("当前总注册用户："+e._s(e.total)+"人")])])],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("Card",{attrs:{"dis-hover":""}},[a("Row",[a("Col",{attrs:{span:"9"}},[a("span",[e._v("关键字：")]),e._v(" "),a("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入UID/手机号/邮箱/姓名"},model:{value:e.usersParams.keyWords,callback:function(t){e.$set(e.usersParams,"keyWords",t)},expression:"usersParams.keyWords"}}),e._v(" "),a("Select",{staticStyle:{width:"80px"},model:{value:e.usersParams.type,callback:function(t){e.$set(e.usersParams,"type",t)},expression:"usersParams.type"}},[a("Option",{attrs:{value:"1"}},[e._v("UID")]),e._v(" "),a("Option",{attrs:{value:"2"}},[e._v("手机号")]),e._v(" "),a("Option",{attrs:{value:"3"}},[e._v("邮箱")]),e._v(" "),a("Option",{attrs:{value:"4"}},[e._v("姓名")]),e._v(" "),a("Option",{attrs:{value:"5"}},[e._v("标签")])],1)],1),e._v(" "),a("Col",{attrs:{span:"15"}},[a("span",[e._v("注册时间：")]),e._v(" "),a("DatePicker",{attrs:{type:"date",placeholder:"Select date"},model:{value:e.usersParams.startTime,callback:function(t){e.$set(e.usersParams,"startTime",t)},expression:"usersParams.startTime"}}),e._v("--\n            "),a("DatePicker",{attrs:{type:"date",placeholder:"Select date"},model:{value:e.usersParams.endTime,callback:function(t){e.$set(e.usersParams,"endTime",t)},expression:"usersParams.endTime"}}),e._v(" "),a("span",{staticStyle:{display:"inline-block",float:"right","line-height":"20px"}},[a("Button",{attrs:{type:"primary"},on:{click:e.users}},[e._v(e._s(e.$t("button.search")))])],1),e._v(" "),a("span",{staticStyle:{display:"inline-block",float:"right","line-height":"20px","margin-right":"10px"}},[a("Button",{attrs:{type:"primary"},on:{click:e.exportTable}},[e._v(e._s(e.$t("button.export")))])],1)],1)],1),e._v(" "),a("Divider",{staticStyle:{margin:"10px 0"}}),e._v(" "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v("用户列表")]),e._v(" "),a("Row",[a("Table",{attrs:{border:"",columns:e.columns1,data:e.data1}})],1),e._v(" "),a("br"),e._v(" "),a("Row",[a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"24"}},[a("Page",{attrs:{total:e.total,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)],1)],1)],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var n=a("C7Lr")(r,s,!1,function(e){a("PXoQ")},"data-v-54775b2c",null);t.default=n.exports}});
//# sourceMappingURL=50.eb08d8bb68806f3f6d29.js.map