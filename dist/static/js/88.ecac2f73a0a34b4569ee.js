webpackJsonp([88],{Q86o:function(t,e){},oq9C:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Vtlw"),n={name:"userStatistics",data:function(){var t=this;return{copyright:[],symbol:[],data1:[],total:0,search:{type:-1,from:"",to:"",page:1,pageSize:10},collect:{creatTime:"",dealTotal:0,dealNum:0,dealUser:0},columns:[{align:"center",renderHeader:function(e,a){return"汇总：数据跟新时间：",e("span",{},"汇总：数据跟新时间： "+t.collect.creatTime)},children:[{title:"日期",key:"time",width:400,align:"center",render:function(t,e){return t("span",{},e.row.time[0]+"-"+(e.row.time[1]<10?"0"+e.row.time[1]:e.row.time[1])+"-"+(e.row.time[2]<10?"0"+e.row.time[2]:e.row.time[2]))}}]},{align:"center",renderHeader:function(e,a){return e("span",{},t.collect.dealTotal)},children:[{title:"总交易额(AP)",key:"transactionAmount",align:"center"}]},{align:"center",renderHeader:function(e,a){return e("span",{},t.collect.dealNum)},children:[{title:"交易总笔数",key:"transactionNum",align:"center"}]},{align:"center",renderHeader:function(e,a){return e("span",{},t.collect.dealUser)},children:[{title:"交易用户数",key:"transactionUserNum",align:"center"}]}]}},methods:{getCopyright:function(){var t=this;this.$axios.get("/api/copyright/getAllCopyright",{}).then(function(e){t.copyright=e.data.data})},getDeal:function(){var t=this,e=this,a=new FormData;a.append("page",this.search.page),a.append("pageSize",this.search.pageSize),this.$axios.post("/api/report/transactionStatistics",a).then(function(a){console.log(a.data.data);var r=a.data.data.records;t.total=a.data.data.total,t.data1=a.data.data.records,r.forEach(function(t){e.collect.dealTotal+=t.transactionAmount,e.collect.dealNum+=t.transactionNum,e.collect.dealUser+=t.transactionUserNum}),0!=a.data.data.records.length&&(e.collect.creatTime=a.data.data.records[0].timeStr)})},getSearch:function(){var t=this,e=new FormData;if(e.append("page",this.search.page),e.append("pageSize",this.search.pageSize),this.search.from&&this.search.to){var a=new Date(this.search.from),r=new Date(this.search.to),n=a.getFullYear().toString()+(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1).toString()+(a.getDate()+1<10?"0"+a.getDate():a.getDate().toString()),o=r.getFullYear().toString()+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1).toString()+(r.getDate()<10?"0"+r.getDate():r.getDate()).toString();e.append("from",n),e.append("to",o)}this.$axios.post("/api/report/transactionStatistics",e).then(function(e){console.log(e.data.data),t.total=e.data.data.total,t.data1=e.data.data.records})},changePage:function(t){this.search.page=t,this.getSearch()},changePageSize:function(t){this.search.pageSize=t,this.getSearch()}},mounted:function(){Object(r.a)(localStorage.getItem("lan")),this.getCopyright(),this.getDeal()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Row",[a("Col",{attrs:{span:"20"}},[a("span",[t._v("版权：")]),t._v(" "),a("Select",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:t.search.type,callback:function(e){t.$set(t.search,"type",e)},expression:"search.type"}},[a("Option",{attrs:{value:"-1"}},[t._v("全部")]),t._v(" "),t._l(t.copyright,function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.copyrightCode))])})],2),t._v(" "),a("span",[t._v("时间：")]),t._v(" "),a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"date",placeholder:"Select date"},model:{value:t.search.from,callback:function(e){t.$set(t.search,"from",e)},expression:"search.from"}}),t._v("  --  \n      "),a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"date",placeholder:"Select date"},model:{value:t.search.to,callback:function(e){t.$set(t.search,"to",e)},expression:"search.to"}})],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[a("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.getSearch}},[t._v(t._s(t.$t("button.search")))]),t._v(" "),a("Button",{attrs:{type:"primary"}},[t._v(t._s(t.$t("button.export")))])],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",[a("Table",{attrs:{columns:t.columns,data:t.data1,border:""}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[a("Page",{attrs:{total:t.total,"show-total":"","show-sizer":"","show-elevator":"",current:t.search.page,"page-size":t.search.pageSize},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(n,o,!1,function(t){a("Q86o")},"data-v-00bbab29",null);e.default=i.exports}});
//# sourceMappingURL=88.ecac2f73a0a34b4569ee.js.map