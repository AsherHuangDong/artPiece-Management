webpackJsonp([27],{Gey9:function(t,a){},vV4b:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("g1HI"),i={name:"copyrightChartEditor",data:function(){var t=this;return{data1Id:"",data2Id:"",data3Id:"",columns1:[{title:"横轴",width:192,align:"center",key:"xData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data1[e.row._index].xData=a.srcElement.value}}},""):a("span",{},e.row.xData)}},{title:"纵轴",width:195,align:"center",key:"yData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data1[e.row._index].yData=a.srcElement.value}}},""):a("span",{},e.row.yData)}},{title:"操作",width:80,align:"center",key:"option",render:function(a,e){return e.row.input?a("a",{style:{color:"blue"},on:{click:function(){t.data1[e.row._index].input=!1,console.log(t.data1)}}},"保存"):a("a",{style:{color:"red"},on:{click:function(){t.data1.splice(e.row._index,1),console.log(t.data1)}}},"删除")}}],columns2:[{title:"横轴",width:192,align:"center",key:"xData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data2[e.row._index].xData=a.srcElement.value}}},""):a("span",{},e.row.xData)}},{title:"纵轴",width:195,align:"center",key:"yData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data2[e.row._index].yData=a.srcElement.value}}},""):a("span",{},e.row.yData)}},{title:"操作",width:80,align:"center",key:"option",render:function(a,e){return e.row.input?a("a",{style:{color:"blue"},on:{click:function(){t.data2[e.row._index].input=!1,console.log(t.data2)}}},"保存"):a("a",{style:{color:"red"},on:{click:function(){t.data2.splice(e.row._index,1),console.log(t.data2)}}},"删除")}}],columns3:[{title:"横轴",width:192,align:"center",key:"xData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data3[e.row._index].xData=a.srcElement.value}}},""):a("span",{},e.row.xData)}},{title:"纵轴",width:195,align:"center",key:"yData",render:function(a,e){return e.row.input?a("input",{style:{width:"100%"},on:{change:function(a){console.log(a.srcElement.value),t.data3[e.row._index].yData=a.srcElement.value}}},""):a("span",{},e.row.yData)}},{title:"操作",width:80,align:"center",key:"option",render:function(a,e){return e.row.input?a("a",{style:{color:"blue"},on:{click:function(){t.data3[e.row._index].input=!1,console.log(t.data2)}}},"保存"):a("a",{style:{color:"red"},on:{click:function(){t.data3.splice(e.row._index,1),console.log(t.data2)}}},"删除")}}],data1:[],data2:[],data3:[],saveCopyrightChartParams1:{copyrightCode:this.$route.params.row.copyrightCode,copyrightId:this.$route.params.row.id,xTitle:"",yTitle:"",data:[],type:1},saveCopyrightChartParams2:{copyrightCode:this.$route.params.row.copyrightCode,copyrightId:this.$route.params.row.id,xTitle:"",yTitle:"",data:[],type:2},saveCopyrightChartParams3:{copyrightCode:this.$route.params.row.copyrightCode,copyrightId:this.$route.params.row.id,xTitle:"",yTitle:"",data:[],type:3},ruleValidate:{yTitle:[{required:!0,message:"The yTitle cannot be empty",trigger:"blur"}],xTitle:[{required:!0,message:"The xTitle cannot be empty",trigger:"blur"}]}}},methods:{back:function(){this.$router.push("/copyrightManagement")},handle:function(t,a){console.log(t),console.log(a),t.copyrightChartDataList=[];for(var e=0;e<a.length;e++)if(!1===a[e].input||!a[e].input){delete a[e].input;var r=a[e];t.copyrightChartDataList.push(r)}t.copyrightCode=this.$route.params.row.copyrightCode,t.copyrightId=this.$route.params.row.id,console.log(t)},add:function(t,a){console.log(t,a),""!==a?t.push({xData:"",yData:"",input:!0,chartId:a}):t.push({xData:"",yData:"",input:!0})},save:function(t){var a=this;this.$axios.post("/api/copyrightChart/saveCopyrightChart",t).then(function(t){console.log("/api/copyrightChart/saveCopyrightChart",t.data),"成功"===t.data.msg?Object(r.n)():Object(r.m)(),a.selectCopyrightChartByCopyrightId()})},handleSubmit:function(t,a,e){var r=this;this.$refs[t].validate(function(t){t?(r.handle(a,e),r.save(a)):r.$Message.error("Fail!")})},selectCopyrightChartByCopyrightId:function(){var t=this,a=new FormData;a.append("copyrightId",this.$route.params.row.id),this.$axios.post("/api/copyrightChart/selectCopyrightChartByCopyrightId",a).then(function(a){console.log("/api/copyrightChart/selectCopyrightChartByCopyrightId",a.data);for(var e=a.data.data,r=0;r<e.length;r++)1===e[r].type&&(t.saveCopyrightChartParams1=e[r],t.data1=e[r].copyrightChartDataList,t.data1Id=e[r].id),2===e[r].type&&(t.saveCopyrightChartParams2=e[r],t.data2=e[r].copyrightChartDataList,t.data2Id=e[r].id),3===e[r].type&&(t.saveCopyrightChartParams3=e[r],t.data3=e[r].copyrightChartDataList,t.data3Id=e[r].id)})}},mounted:function(){console.log(this.$route.params.row),this.selectCopyrightChartByCopyrightId()}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Button",{attrs:{type:"warning"},on:{click:t.back}},[t._v("返回")]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("折线图1")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("Form",{ref:"formValidate1",attrs:{"label-position":"right","label-width":250,model:t.saveCopyrightChartParams1,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:"标题："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams1.totalTitle,callback:function(a){t.$set(t.saveCopyrightChartParams1,"totalTitle",a)},expression:"saveCopyrightChartParams1.totalTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"横轴标题：",prop:"xTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams1.xTitle,callback:function(a){t.$set(t.saveCopyrightChartParams1,"xTitle",a)},expression:"saveCopyrightChartParams1.xTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"纵轴标题：",prop:"yTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams1.yTitle,callback:function(a){t.$set(t.saveCopyrightChartParams1,"yTitle",a)},expression:"saveCopyrightChartParams1.yTitle"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"100%"},attrs:{label:"折线图数据："}},[e("Row",[e("Col",{attrs:{span:"18"}},[e("a",{staticStyle:{color:"blue"},on:{click:function(a){return t.add(t.data1,t.data1Id)}}},[t._v("添加数据")]),e("br"),t._v(" "),e("Table",{staticStyle:{width:"470px"},attrs:{border:"",columns:t.columns1,data:t.data1}})],1)],1)],1)],1)],1)],1),t._v(" "),e("Row",{staticStyle:{margin:"10px"}},[e("Col",{attrs:{span:"24"}},[t._v("折线图数据：")])],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{type:"primary"},on:{click:function(a){return t.handleSubmit("formValidate1",t.saveCopyrightChartParams1,t.data1)}}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),e("Row",[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("折线图2")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("Form",{ref:"formValidate2",attrs:{"label-position":"right","label-width":250,model:t.saveCopyrightChartParams2,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:"标题："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams2.totalTitle,callback:function(a){t.$set(t.saveCopyrightChartParams2,"totalTitle",a)},expression:"saveCopyrightChartParams2.totalTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"横轴标题：",prop:"xTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams2.xTitle,callback:function(a){t.$set(t.saveCopyrightChartParams2,"xTitle",a)},expression:"saveCopyrightChartParams2.xTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"纵轴标题：",prop:"yTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams2.yTitle,callback:function(a){t.$set(t.saveCopyrightChartParams2,"yTitle",a)},expression:"saveCopyrightChartParams2.yTitle"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"100%"},attrs:{label:"折线图数据："}},[e("Row",[e("Col",{attrs:{span:"18"}},[e("a",{staticStyle:{color:"blue"},on:{click:function(a){return t.add(t.data2,t.data2Id)}}},[t._v("添加数据")]),e("br"),t._v(" "),e("Table",{staticStyle:{width:"470px"},attrs:{border:"",columns:t.columns2,data:t.data2}})],1)],1)],1)],1)],1)],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{type:"primary"},on:{click:function(a){return t.handleSubmit("formValidate2",t.saveCopyrightChartParams2,t.data2)}}},[t._v("保存")])],1)],1)],1)],1),t._v(" "),e("Row",[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("柱状图")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("Form",{ref:"formValidate3",attrs:{"label-position":"right","label-width":250,model:t.saveCopyrightChartParams3,rules:t.ruleValidate}},[e("FormItem",{attrs:{label:"标题："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams3.totalTitle,callback:function(a){t.$set(t.saveCopyrightChartParams3,"totalTitle",a)},expression:"saveCopyrightChartParams3.totalTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"横轴标题：",prop:"xTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams3.xTitle,callback:function(a){t.$set(t.saveCopyrightChartParams3,"xTitle",a)},expression:"saveCopyrightChartParams3.xTitle"}})],1),t._v(" "),e("FormItem",{attrs:{label:"纵轴标题：",prop:"yTitle"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightChartParams3.yTitle,callback:function(a){t.$set(t.saveCopyrightChartParams3,"yTitle",a)},expression:"saveCopyrightChartParams3.yTitle"}})],1),t._v(" "),e("FormItem",{staticStyle:{width:"100%"},attrs:{label:"柱状图数据："}},[e("Row",[e("Col",{attrs:{span:"18"}},[e("a",{staticStyle:{color:"blue"},on:{click:function(a){return t.add(t.data3,t.data3Id)}}},[t._v("添加数据")]),e("br"),t._v(" "),e("Table",{staticStyle:{width:"470px"},attrs:{border:"",columns:t.columns3,data:t.data3}})],1)],1)],1)],1)],1)],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{type:"primary"},on:{click:function(a){return t.handleSubmit("formValidate3",t.saveCopyrightChartParams3,t.data3)}}},[t._v("保存")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var l=e("C7Lr")(i,o,!1,function(t){e("Gey9")},"data-v-83c0b180",null);a.default=l.exports}});
//# sourceMappingURL=27.036a1678fd9702f1bb25.js.map