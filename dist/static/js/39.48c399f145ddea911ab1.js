webpackJsonp([39],{TJuO:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("hRKE"),i=e.n(n),a=e("3cXf"),r=e.n(a),s={name:"participationInProfitCreate",data:function(){var t=this;return{month:new Date,page:1,pageSize:10,symbol:[],columns:[{title:"版权代码",key:"copyrightCode",align:"center"},{title:"版权名称",key:"copyrightName",align:"center"},{title:"分红总额",key:"troops",align:"center"},{title:"操作",key:"copyrightCode",align:"center",render:function(o,e){return o("span",{},[o("a",{style:{color:"blue"},on:{click:function(){t.$router.push({name:"participationInProfitCreateEdit",params:{id:e.row._index,copyrightCode:e.row.copyrightCode,self:t}})}}},"编辑分红总额")])}}]}},methods:{getEdit:function(t){console.log("sssssssssss"+t.data1),this.symbol=JSON.parse(r()(this.symbol)),this.symbol[t.id].troops=t.data1,console.log(this.symbol)},getCopyRight:function(){var t=this,o=new FormData;o.append("page",this.page),o.append("pageSize",this.pageSize);var e=this.month.getFullYear()+"-"+(Number(this.month.getMonth())+1).toString();console.log(e),console.log(void 0===e?"undefined":i()(e)),o.append("yearMonth",e),this.$axios.post("/api/copyrightProfit/getCanAddProfitCopyright",o).then(function(o){console.log(o.data.data),t.symbol=o.data.data.records,t.total=o.data.data.total})},submit:function(){var t=this,o=t.month.getFullYear()+"-"+Number(t.month.getMonth()+1).toString(),e=[];t.symbol.forEach(function(t){e.push({copyrightCode:t.copyrightCode,copyrightId:t.id,troops:t.troops,yearAndMonth:o})}),e=r()(e),console.log(e),console.log(void 0===e?"undefined":i()(e)),t.$axios.post("/api/copyrightProfit/saveCopyrightProfit",e).then(function(o){console.log("/api/copyrightProfit/saveCopyrightProfit"+o.data),t.$router.go(-1)})},cancel:function(){this.$router.go(-1)}},mounted:function(){this.getCopyRight()}},c={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"content"},[e("Row",[e("Col",{attrs:{span:"24"}},[e("span",[t._v("分红月份：")]),t._v(" "),e("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"month",format:"yyyy-MM",placeholder:"Select month"},model:{value:t.month,callback:function(o){t.month=o},expression:"month"}})],1)],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{staticStyle:{width:"100%"}},[e("Table",{attrs:{columns:t.columns,data:t.symbol,border:""}})],1)],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{attrs:{span:"24",offset:"10"}},[e("Button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v(t._s(t.$t("button.save")))]),t._v(" "),e("Button",{staticStyle:{"margin-left":"5px",width:"80px"},attrs:{type:"default"},on:{click:t.cancel}},[t._v(t._s(t.$t("button.cancel")))])],1)],1),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var l=e("C7Lr")(s,c,!1,function(t){e("VyrC")},"data-v-67972cb1",null);o.default=l.exports},VyrC:function(t,o){}});
//# sourceMappingURL=39.48c399f145ddea911ab1.js.map