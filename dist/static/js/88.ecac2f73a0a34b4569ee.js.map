{"version":3,"sources":["webpack:///src/components/page/operatingReports/dealStatistics.vue","webpack:///./src/components/page/operatingReports/dealStatistics.vue?aa67","webpack:///./src/components/page/operatingReports/dealStatistics.vue"],"names":["dealStatistics","name","data","_this","this","copyright","symbol","data1","total","search","type","from","to","page","pageSize","collect","creatTime","dealTotal","dealNum","dealUser","columns","align","renderHeader","h","param","time1","children","title","key","width","render","row","time","methods","getCopyright","_this2","$axios","get","then","res","getDeal","_this3","form","FormData","append","post","console","log","records","forEach","item","transactionAmount","transactionNum","transactionUserNum","length","timeStr","getSearch","_this4","t1","Date","t2","getFullYear","toString","getMonth","getDate","time2","changePage","changePageSize","mounted","Object","locale","localStorage","getItem","operatingReports_dealStatistics","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","staticStyle","margin-right","model","value","callback","$$v","$set","expression","_l","index","id","_s","copyrightCode","placeholder","text-align","on","click","$t","border","show-total","show-sizer","show-elevator","current","page-size","on-change","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IA4CAA,GACAC,KAAA,iBACAC,KAFA,WAGA,IAAAC,EAAAC,KACA,OACAC,aACAC,UACAC,SACAC,MAAA,EACAC,QACAC,MAAA,EACAC,KAAA,GACAC,GAAA,GACAC,KAAA,EACAC,SAAA,IAEAC,SACAC,UAAA,GACAC,UAAA,EACAC,QAAA,EACAC,SAAA,GAEAC,UAEAC,MAAA,SACAC,aAFA,SAEAC,EAAAC,GAIA,MADA,aACAD,EAAA,UAAAE,cAFAtB,EAAAY,QAAAC,YAIAU,WAEAC,MAAA,KACAC,IAAA,OACAC,MAAA,IACAR,MAAA,SACAS,OALA,SAKAP,EAAAC,GAYA,OAAAD,EAAA,UATAC,EAAAO,IAAAC,KAAA,GACA,KACAR,EAAAO,IAAAC,KAAA,MACA,IAAAR,EAAAO,IAAAC,KAAA,GACAR,EAAAO,IAAAC,KAAA,IACA,KACAR,EAAAO,IAAAC,KAAA,MACA,IAAAR,EAAAO,IAAAC,KAAA,GACAR,EAAAO,IAAAC,KAAA,UAOAX,MAAA,SACAC,aAFA,SAEAC,EAAAC,GACA,OAAAD,EAAA,UAAApB,EAAAY,QAAAE,YAEAS,WAEAC,MAAA,WACAC,IAAA,oBACAP,MAAA,aAKAA,MAAA,SACAC,aAFA,SAEAC,EAAAC,GACA,OAAAD,EAAA,UAAApB,EAAAY,QAAAG,UAEAQ,WAEAC,MAAA,QACAC,IAAA,iBACAP,MAAA,aAKAA,MAAA,SACAC,aAFA,SAEAC,EAAAC,GACA,OAAAD,EAAA,UAAApB,EAAAY,QAAAI,WAEAO,WAEAC,MAAA,QACAC,IAAA,qBACAP,MAAA,eAOAY,SACAC,aADA,WACA,IAAAC,EAAA/B,KACAA,KAAAgC,OACAC,IAAA,qCACAC,KAAA,SAAAC,GACAJ,EAAA9B,UAAAkC,EAAArC,aAGAsC,QARA,WAQA,IAAAC,EAAArC,KACAD,EAAAC,KACAsC,EAAA,IAAAC,SACAD,EAAAE,OAAA,OAAAxC,KAAAK,OAAAI,MACA6B,EAAAE,OAAA,WAAAxC,KAAAK,OAAAK,UACAV,KAAAgC,OAAAS,KAAA,oCAAAH,GAAAJ,KAAA,SAAAC,GACAO,QAAAC,IAAAR,EAAArC,WACA,IAAAA,EAAAqC,EAAArC,UAAA8C,QACAP,EAAAjC,MAAA+B,EAAArC,UAAAM,MACAiC,EAAAlC,MAAAgC,EAAArC,UAAA8C,QACA9C,EAAA+C,QAAA,SAAAC,GACA/C,EAAAY,QAAAE,WAAAiC,EAAAC,kBACAhD,EAAAY,QAAAG,SAAAgC,EAAAE,eACAjD,EAAAY,QAAAI,UAAA+B,EAAAG,qBAEA,GAAAd,EAAArC,UAAA8C,QAAAM,SACAnD,EAAAY,QAAAC,UAAAuB,EAAArC,UAAA8C,QAAA,GAAAO,YAIAC,UA5BA,WA4BA,IAAAC,EAAArD,KACAsC,EAAA,IAAAC,SAGA,GAFAD,EAAAE,OAAA,OAAAxC,KAAAK,OAAAI,MACA6B,EAAAE,OAAA,WAAAxC,KAAAK,OAAAK,UACAV,KAAAK,OAAAE,MAAAP,KAAAK,OAAAG,GAAA,CACA,IAAA8C,EAAA,IAAAC,KAAAvD,KAAAK,OAAAE,MACAiD,EAAA,IAAAD,KAAAvD,KAAAK,OAAAG,IAUAa,EARAiC,EAAAG,cAAAC,YACAJ,EAAAK,WAAA,UAAAL,EAAAK,WAAA,GAAAL,EAAAK,WAAA,GAAAD,YACAJ,EAAAM,UAAA,SAAAN,EAAAM,UAAAN,EAAAM,UAAAF,YAOAG,EALAL,EAAAC,cAAAC,YACAF,EAAAG,WAAA,UAAAH,EAAAG,WAAA,GAAAH,EAAAG,WAAA,GAAAD,YACAF,EAAAI,UAAA,OAAAJ,EAAAI,UAAAJ,EAAAI,WAAAF,WAIApB,EAAAE,OAAA,OAAAnB,GACAiB,EAAAE,OAAA,KAAAqB,GAEA7D,KAAAgC,OAAAS,KAAA,oCAAAH,GAAAJ,KAAA,SAAAC,GACAO,QAAAC,IAAAR,EAAArC,WACAuD,EAAAjD,MAAA+B,EAAArC,UAAAM,MACAiD,EAAAlD,MAAAgC,EAAArC,UAAA8C,WAGAkB,WAvDA,SAuDArD,GACAT,KAAAK,OAAAI,OACAT,KAAAoD,aAEAW,eA3DA,SA2DArD,GACAV,KAAAK,OAAAK,WACAV,KAAAoD,cAGAY,QAhKA,WAiKIC,OAAAC,EAAA,EAAAD,CAAJE,aAAAC,QAAA,QACApE,KAAA8B,eACA9B,KAAAoC,YC5MeiC,GADE3C,OAFjB,WAA0B,IAAA4C,EAAAtE,KAAauE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,OAAAA,EAAA,OAAsBG,OAAOC,KAAA,QAAaJ,EAAA,QAAAH,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,UAAsDM,aAAatD,MAAA,QAAAuD,eAAA,QAAsCC,OAAQC,MAAAZ,EAAAjE,OAAA,KAAA8E,SAAA,SAAAC,GAAiDd,EAAAe,KAAAf,EAAAjE,OAAA,OAAA+E,IAAkCE,WAAA,iBAA2Bb,EAAA,UAAeG,OAAOM,MAAA,QAAcZ,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,KAAAR,EAAAiB,GAAAjB,EAAA,mBAAAxB,EAAA0C,GAAyE,OAAAf,EAAA,UAAoBjD,IAAAgE,EAAAZ,OAAiBM,MAAApC,EAAA2C,MAAiBnB,EAAAQ,GAAAR,EAAAoB,GAAA5C,EAAA6C,qBAAuC,GAAArB,EAAAQ,GAAA,KAAAL,EAAA,QAAAH,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,KAAAL,EAAA,cAA0EM,aAAatD,MAAA,SAAgBmD,OAAQtE,KAAA,OAAAsF,YAAA,eAA0CX,OAAQC,MAAAZ,EAAAjE,OAAA,KAAA8E,SAAA,SAAAC,GAAiDd,EAAAe,KAAAf,EAAAjE,OAAA,OAAA+E,IAAkCE,WAAA,iBAA2BhB,EAAAQ,GAAA,kBAAAL,EAAA,cAA4CM,aAAatD,MAAA,SAAgBmD,OAAQtE,KAAA,OAAAsF,YAAA,eAA0CX,OAAQC,MAAAZ,EAAAjE,OAAA,GAAA8E,SAAA,SAAAC,GAA+Cd,EAAAe,KAAAf,EAAAjE,OAAA,KAAA+E,IAAgCE,WAAA,gBAAyB,GAAAhB,EAAAQ,GAAA,KAAAL,EAAA,OAA4BM,aAAac,aAAA,SAAqBjB,OAAQC,KAAA,OAAYJ,EAAA,UAAeM,aAAaC,eAAA,QAAsBJ,OAAQtE,KAAA,WAAiBwF,IAAKC,MAAAzB,EAAAlB,aAAuBkB,EAAAQ,GAAAR,EAAAoB,GAAApB,EAAA0B,GAAA,qBAAA1B,EAAAQ,GAAA,KAAAL,EAAA,UAAqEG,OAAOtE,KAAA,aAAkBgE,EAAAQ,GAAAR,EAAAoB,GAAApB,EAAA0B,GAAA,6BAAA1B,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,OAAAA,EAAA,SAAqHG,OAAO5D,QAAAsD,EAAAtD,QAAAlB,KAAAwE,EAAAnE,MAAA8F,OAAA,OAAoD,OAAA3B,EAAAQ,GAAA,KAAAL,EAAA,MAAAH,EAAAQ,GAAA,KAAAL,EAAA,OAAAA,EAAA,OAA+DM,aAAac,aAAA,SAAqBjB,OAAQC,KAAA,QAAaJ,EAAA,QAAaG,OAAOxE,MAAAkE,EAAAlE,MAAA8F,aAAA,GAAAC,aAAA,GAAAC,gBAAA,GAAAC,QAAA/B,EAAAjE,OAAAI,KAAA6F,YAAAhC,EAAAjE,OAAAK,UAA+HoF,IAAKS,YAAAjC,EAAAR,WAAA0C,sBAAAlC,EAAAP,mBAAqE,YAEt1D0C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEhH,EACAyE,GATF,EAVA,SAAAwC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/88.ecac2f73a0a34b4569ee.js","sourcesContent":["<template>\n  <div class=\"content\">\n    <Row>\n      <Col span=\"20\">\n        <span>版权：</span>\n        <Select style=\"width: 150px;margin-right:10px;\" v-model=\"search.type\">\n          <Option value=\"-1\">全部</Option>\n          <Option :value=\"item.id\" v-for=\"(item,index) in copyright\" :key=\"index\">{{item.copyrightCode}}</Option>\n        </Select>\n        <span>时间：</span>\n        <DatePicker type=\"date\" v-model=\"search.from\" placeholder=\"Select date\" style=\"width: 180px\"></DatePicker>&nbsp;&nbsp;--&nbsp;&nbsp;\n        <DatePicker type=\"date\" v-model=\"search.to\" placeholder=\"Select date\" style=\"width: 180px\"></DatePicker>\n      </Col>\n      <Col span=\"4\" style=\"text-align:right;\">\n        <Button type=\"primary\" style=\"margin-right:20px;\" @click=\"getSearch\">{{$t('button.search')}}</Button>\n        <Button type=\"primary\">{{$t('button.export')}}</Button>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col>\n        <Table :columns=\"columns\" :data=\"data1\" border></Table>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col span=\"24\" style=\"text-align:right;\">\n        <Page\n          :total=\"total\"\n          show-total\n          show-sizer\n          show-elevator\n          :current=\"search.page\"\n          :page-size=\"search.pageSize\"\n          @on-change=\"changePage\"\n          @on-page-size-change=\"changePageSize\"\n        />\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\nimport { changeLanguage } from \"@/locale\";\nexport default {\n  name: \"userStatistics\",\n  data() {\n    let _this = this\n    return {\n      copyright:[],\n      symbol: [],\n      data1: [],\n      total:0,\n      search: {\n        type:-1,\n        from: \"\",\n        to: \"\",\n        page:1,\n        pageSize:10\n      },\n      collect:{\n        creatTime: '',\n        dealTotal: 0,\n        dealNum: 0,\n        dealUser: 0,\n      },\n      columns: [\n        {\n          align: \"center\",\n          renderHeader(h, param) {\n            let time1 = \"\";\n            let t1 = _this.collect.creatTime;\n            time1 = \"汇总：数据跟新时间：\" \n            return h(\"span\", {}, time1+' '+t1);\n          },\n          children: [\n            {\n              title: \"日期\",\n              key: \"time\",\n              width: 400,\n              align: \"center\",\n              render(h, param) {\n                let time1 = \"\";\n                time1 =\n                  param.row.time[0] +\n                  \"-\" +\n                  (param.row.time[1] < 10\n                    ? \"0\" + param.row.time[1]\n                    : param.row.time[1]) +\n                  \"-\" +\n                  (param.row.time[2] < 10\n                    ? \"0\" + param.row.time[2]\n                    : param.row.time[2]);\n                return h(\"span\", {}, time1);\n              }\n            }\n          ]\n        },\n        {\n          align: \"center\",\n          renderHeader(h, param) {\n            return h('span',{},_this.collect.dealTotal)\n          },\n          children: [\n            {\n              title: \"总交易额(AP)\",\n              key: \"transactionAmount\",\n              align: \"center\"\n            }\n          ]\n        },\n        {\n          align: \"center\",\n          renderHeader(h, param) {\n            return h('span',{},_this.collect.dealNum)\n          },\n          children: [\n            {\n              title: \"交易总笔数\",\n              key: \"transactionNum\",\n              align: \"center\"\n            }\n          ]\n        },\n        {\n          align: \"center\",\n          renderHeader(h, param) {\n            return h('span',{},_this.collect.dealUser)\n          },\n          children: [\n            {\n              title: \"交易用户数\",\n              key: \"transactionUserNum\",\n              align: \"center\"\n            }\n          ]\n        }\n      ]\n    };\n  },\n  methods: {\n    getCopyright() {\n      this.$axios\n        .get(\"/api/copyright/getAllCopyright\", {})\n        .then(res => {\n          this.copyright = res.data.data;\n        });\n    },\n    getDeal() {\n      let _this = this\n      let form = new FormData();\n      form.append(\"page\", this.search.page);\n      form.append(\"pageSize\", this.search.pageSize);\n      this.$axios.post(\"/api/report/transactionStatistics\", form).then(res => {\n        console.log(res.data.data);\n        let data = res.data.data.records;\n        this.total = res.data.data.total;\n        this.data1 = res.data.data.records;\n        data.forEach(item => {\n          _this.collect.dealTotal += item.transactionAmount;\n          _this.collect.dealNum += item.transactionNum;\n          _this.collect.dealUser += item.transactionUserNum;\n        });\n        if(res.data.data.records.length != 0){\n          _this.collect.creatTime = res.data.data.records[0].timeStr;\n        }\n      });\n    },\n    getSearch() {\n      let form = new FormData();\n      form.append(\"page\", this.search.page);\n      form.append(\"pageSize\", this.search.pageSize);\n      if (this.search.from && this.search.to) {\n        let t1 = new Date(this.search.from);\n        let t2 = new Date(this.search.to);\n\n        let y1 = t1.getFullYear().toString();\n        let m1 = ((t1.getMonth()+1)<10?'0'+(t1.getMonth()+1):(t1.getMonth()+1)).toString();\n        let d1 = (t1.getDate()+1)<10?'0'+t1.getDate():t1.getDate().toString();\n\n        let y2 = t2.getFullYear().toString();\n        let m2 = ((t2.getMonth()+1)<10?'0'+(t2.getMonth()+1):(t2.getMonth()+1)).toString();\n        let d2 = (t2.getDate()<10?'0'+t2.getDate():t2.getDate()).toString();\n        \n        let time1 = y1+m1+d1;\n        let time2 = y2+m2+d2;\n        form.append(\"from\", time1);\n        form.append(\"to\", time2);\n      }\n      this.$axios.post(\"/api/report/transactionStatistics\", form).then(res => {\n        console.log(res.data.data);\n        this.total = res.data.data.total;\n        this.data1 = res.data.data.records;\n      });\n    },\n    changePage(page) {\n      this.search.page = page;\n      this.getSearch();\n    },\n    changePageSize(pageSize) {\n      this.search.pageSize = pageSize;\n      this.getSearch();\n    }\n  },\n  mounted() {\n    changeLanguage(localStorage.getItem(\"lan\"));\n    this.getCopyright();\n    this.getDeal();\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/operatingReports/dealStatistics.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"20\"}},[_c('span',[_vm._v(\"版权：\")]),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"150px\",\"margin-right\":\"10px\"},model:{value:(_vm.search.type),callback:function ($$v) {_vm.$set(_vm.search, \"type\", $$v)},expression:\"search.type\"}},[_c('Option',{attrs:{\"value\":\"-1\"}},[_vm._v(\"全部\")]),_vm._v(\" \"),_vm._l((_vm.copyright),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.copyrightCode))])})],2),_vm._v(\" \"),_c('span',[_vm._v(\"时间：\")]),_vm._v(\" \"),_c('DatePicker',{staticStyle:{\"width\":\"180px\"},attrs:{\"type\":\"date\",\"placeholder\":\"Select date\"},model:{value:(_vm.search.from),callback:function ($$v) {_vm.$set(_vm.search, \"from\", $$v)},expression:\"search.from\"}}),_vm._v(\"  --  \\n      \"),_c('DatePicker',{staticStyle:{\"width\":\"180px\"},attrs:{\"type\":\"date\",\"placeholder\":\"Select date\"},model:{value:(_vm.search.to),callback:function ($$v) {_vm.$set(_vm.search, \"to\", $$v)},expression:\"search.to\"}})],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"4\"}},[_c('Button',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getSearch}},[_vm._v(_vm._s(_vm.$t('button.search')))]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.$t('button.export')))])],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.data1,\"border\":\"\"}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"24\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\",\"current\":_vm.search.page,\"page-size\":_vm.search.pageSize},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-00bbab29\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/operatingReports/dealStatistics.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-00bbab29\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./dealStatistics.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./dealStatistics.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./dealStatistics.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-00bbab29\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./dealStatistics.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-00bbab29\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/operatingReports/dealStatistics.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}