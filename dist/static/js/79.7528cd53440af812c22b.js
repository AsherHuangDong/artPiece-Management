webpackJsonp([79],{R78x:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("hRKE"),o=a.n(i),n=(a("E/Y7"),{name:"participationInProfitManagement",data:function(){var t=this;return{style1:{color:"#ccc"},symbol:[],participation:{month:new Date,page:1,pageSize:10},total:0,columns:[{title:"版权代码",key:"copyrightCode",align:"center"},{title:"版权名称",key:"copyrightName",align:"center"},{title:"分红总额",key:"troops",align:"center"},{title:"分红用户数",key:"userNumber",align:"center"},{title:"操作",align:"center",render:function(e,a){var i=[];return i.push(e("a",{style:{color:"blue"},on:{click:function(){t.$router.push({path:"/participationInProfitDetail",query:{id:a.row.id}})}}},"查看明细")),"#ccc"!=t.style1.color&&i.push(e("a",{style:{color:"blue","margin-left":"15px"},on:{click:function(){var e=new FormData;e.append("id",a.row.id),t.$axios.post("/api/copyrightProfit/shareOutBonus",e).then(function(t){console.log(t)})}}},"发放")),e("span",{},i)}}],option1:[{disabledDate:function(t){return t&&t.valueOf()>=Date.now()-864e5}}]}},methods:{getParticipation:function(){var t=this,e=new FormData;e.append("page",this.participation.page),e.append("pageSize",this.participation.pageSize);var a=new Date(this.participation.month),i=a.getFullYear()+"-"+Number(a.getMonth()+1).toString();console.log(i),console.log(void 0===i?"undefined":o()(i)),e.append("yearMonth",i),this.$axios.post("/api/copyrightProfit/getCopyrightProfitByPage",e).then(function(e){t.symbol=e.data.data.list,t.total=e.data.data.total,console.log(t.symbol),console.log(e.data.data)})},create:function(){this.$router.push({name:"participationInProfitCreate",params:{type:1}})},edit:function(){this.$router.push({name:"participationInProfitEdit",params:{type:1}})},lastMonth:function(){this.style1={color:"blue",cursor:"pointer"};var t=new Date(this.participation.month);this.participation.month=t.getFullYear()+"-"+t.getMonth(),this.getParticipation()},nextMonth:function(){var t=new Date,e=new Date(this.participation.month);if(e.getFullYear()+"-"+e.getMonth()!=t.getFullYear()+"-"+t.getMonth()){this.style1={color:"blue",cursor:"pointer"},this.participation.month=e.getFullYear()+"-"+(e.getMonth()+2);var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1);this.participation.month===i&&(this.style1={color:"#ccc"}),console.log(this.participation.month),this.getParticipation()}else this.style1={color:"#ccc"}},changePage:function(t){this.participation.page=t,this.getParticipation()},changePageSize:function(t){this.participation.pageSize=t,this.getParticipation()}},mounted:function(){this.getParticipation()}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("Row",[a("Col",{attrs:{span:"24"}},[a("span",[t._v("分红月份：")]),t._v(" "),a("DatePicker",{staticStyle:{width:"180px"},attrs:{type:"month",format:"yyyy-MM",placeholder:"select month"},model:{value:t.participation.month,callback:function(e){t.$set(t.participation,"month",e)},expression:"participation.month"}}),t._v(" "),a("span",{staticStyle:{color:"blue",cursor:"pointer"},on:{click:t.lastMonth}},[t._v("上一月")]),t._v(" "),a("span",{style:t.style1,on:{click:t.nextMonth}},[t._v("下一月")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.create}},[t._v(t._s(t.$t("button.create")))])],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[0==t.symbol.length?a("span",{staticStyle:{color:"red"}},[t._v("该月分红尚未创建")]):t._e()])],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{staticStyle:{width:"100%"}},[a("Table",{attrs:{columns:t.columns,data:t.symbol,border:""}})],1)],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[a("Page",{attrs:{total:t.total,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(n,r,!1,function(t){a("rrGx")},"data-v-0eb0334c",null);e.default=c.exports},rrGx:function(t,e){}});
//# sourceMappingURL=79.7528cd53440af812c22b.js.map