webpackJsonp([17],{IjM8:function(t,a){},KeHY:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("InnB"),i=e("g1HI"),s={name:"copyrightManagementAdd",data:function(){return{country:[],loading:{handleSubmit1:!1,handleSubmit:!1},type:0,saveCopyrightCountryParams:{countryName:"",url:""},saveCopyrightParams:{time:new Date,copyrightImg:""},ruleValidate:{artist:[{required:!0,message:"The artist cannot be empty",trigger:"blur"}],composer:[{required:!0,message:"The composer cannot be empty",trigger:"blur"}],copyrightCode:[{required:!0,message:"The copyrightCode cannot be empty",trigger:"blur"}],copyrightCountryId:[{required:!0,type:"number",message:"Please select the copyrightCountry",trigger:"change"}],copyrightImg:[{required:!0,message:"The copyrightImg cannot be empty",trigger:"blur"}],copyrightIntroduction:[{required:!0,message:"The copyrightIntroduction cannot be empty",trigger:"blur"}],copyrightName:[{required:!0,message:"The copyrightName cannot be empty",trigger:"blur"}],time:[{required:!0,type:"date",message:"The time cannot be empty",trigger:"blur"}]},ruleValidate2:{countryName:[{required:!0,message:"The countryName cannot be empty",trigger:"blur"}],url:[{required:!0,message:"The url cannot be empty",trigger:"blur"}]}}},methods:{cancel:function(){this.$router.push("/copyrightManagement")},uploadImage2:function(){var t=this,a=document.getElementById("uploadImage2");a.click(),a.onchange=function(){console.log("change",this);var a=new FormData;a.append("img",this.files[0]),t.$axios.post("/api/upload/image",a).then(function(a){console.log(a.data.data[0]),t.saveCopyrightCountryParams.url=a.data.data[0]})}},uploadImage:function(){var t=this,a=document.getElementById("uploadImage");a.click(),a.onchange=function(){console.log("change",this);var a=new FormData;a.append("img",this.files[0]),t.$axios.post("/api/upload/image",a).then(function(a){console.log(a.data.data[0]),t.saveCopyrightParams.copyrightImg=a.data.data[0]})}},handleSubmit:function(t){var a=this;this.loading.handleSubmit=!0,console.log(this.saveCopyrightParams,Object(r.c)(this.saveCopyrightParams.time.valueOf())),this.$refs[t].validate(function(t){t?(a.saveCopyrightParams.time=Object(r.c)(a.saveCopyrightParams.time.valueOf()),a.saveCopyright()):(a.loading.handleSubmit=!1,a.$Message.error("表单验证失败!"))})},saveCopyright:function(){var t=this,a=new FormData;for(var e in this.saveCopyrightParams)a.append(e,this.saveCopyrightParams[e]);a.delete("publishTime"),this.$axios.post("/api/copyright/updateCopyright",a).then(function(a){t.loading.handleSubmit=!1,console.log(a.data),Object(i.a)(),t.$router.push("/copyrightManagement")})},selectCopyrightById:function(){var t=this,a="/api/copyright/selectCopyrightById?id="+this.saveCopyrightParams.id;this.$axios.get(a).then(function(e){var r=e.data.data;console.log(a,e.data),t.saveCopyrightParams.copyrightImg=r[0].copyrightImg,t.saveCopyrightParams.artist=r[0].artist,t.saveCopyrightParams.composer=r[0].composer,t.saveCopyrightParams.copyrightCountryId=r[0].copyrightCountryId,t.saveCopyrightParams.copyrightIntroduction=r[0].copyrightIntroduction,t.saveCopyrightParams.copyrightName=r[0].copyrightName;var i="";i+=r[0].publishTime[0]+"-",i+=r[0].publishTime[1]+"-",i+=r[0].publishTime[2],t.saveCopyrightParams.time=i,t.saveCopyrightParams.publishTime=i,t.saveCopyrightParams.arranger=r[1].arranger,t.saveCopyrightParams.lastYearAverageRoyalties=r[1].lastYearAverageRoyalties,t.saveCopyrightParams.royaltyDistributor=r[1].royaltyDistributor,t.saveCopyrightParams.songwriter=r[1].songwriter,t.saveCopyrightParams.term=r[1].term,t.saveCopyrightParams.trustee=r[1].trustee,t.saveCopyrightParams.sources=r[2].sources,t.saveCopyrightParams.rightToCopy=r[2].rightToCopy,t.saveCopyrightParams.commercialPerformences=r[2].commercialPerformences,t.saveCopyrightParams.publicTransmissionRight=r[2].publicTransmissionRight,t.saveCopyrightParams.exhibbitionRight=r[2].exhibbitionRight,t.saveCopyrightParams.rightToDistribute=r[2].rightToDistribute,t.saveCopyrightParams.rentalRight=r[2].rentalRight,t.saveCopyrightParams.secondaryWorkRight=r[2].secondaryWorkRight,console.log(t.saveCopyrightParams)})}},mounted:function(){this.type=this.$route.params.type,2===this.type&&(this.country=this.$route.params.country,console.log(this.country)),console.log(this.$route.params.row),console.log(this.$route.params.country),this.saveCopyrightParams=this.$route.params.row,this.country=this.$route.params.country,this.selectCopyrightById()}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",[e("Form",{ref:"saveCopyrightParams",attrs:{model:t.saveCopyrightParams,rules:t.ruleValidate,"label-width":250}},[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("基本信息")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"版权代码：",prop:"copyrightCode"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightCode,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightCode",a)},expression:"saveCopyrightParams.copyrightCode"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权名称：",prop:"copyrightName"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightName,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightName",a)},expression:"saveCopyrightParams.copyrightName"}})],1),t._v(" "),e("FormItem",{attrs:{label:"国家：",prop:"copyrightCountryId"}},[e("Select",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightCountryId,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightCountryId",a)},expression:"saveCopyrightParams.copyrightCountryId"}},t._l(t.country,function(a){return e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.countryName))])}),1)],1),t._v(" "),e("FormItem",{attrs:{label:"艺术家：",prop:"artist"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.artist,callback:function(a){t.$set(t.saveCopyrightParams,"artist",a)},expression:"saveCopyrightParams.artist"}})],1),t._v(" "),e("FormItem",{attrs:{label:"作曲家：",prop:"composer"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.composer,callback:function(a){t.$set(t.saveCopyrightParams,"composer",a)},expression:"saveCopyrightParams.composer"}})],1),t._v(" "),e("FormItem",{attrs:{label:"发行日期：",prop:"time"}},[e("DatePicker",{staticStyle:{width:"40%","min-width":"300px"},attrs:{value:t.saveCopyrightParams.time,type:"date",placeholder:""},model:{value:t.saveCopyrightParams.time,callback:function(a){t.$set(t.saveCopyrightParams,"time",a)},expression:"saveCopyrightParams.time"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权简介：",prop:"copyrightIntroduction"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:t.saveCopyrightParams.copyrightIntroduction,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightIntroduction",a)},expression:"saveCopyrightParams.copyrightIntroduction"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权图片：",prop:"copyrightImg"}},[e("div",{staticStyle:{width:"40%","min-width":"300px",height:"100px",background:"#515a6e 4px 5px"},on:{click:t.uploadImage}}),t._v(" "),e("input",{staticStyle:{opacity:"0"},attrs:{id:"uploadImage",type:"file"}})])],1)],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Information")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"专业术语："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.term,callback:function(a){t.$set(t.saveCopyrightParams,"term",a)},expression:"saveCopyrightParams.term"}})],1),t._v(" "),e("FormItem",{attrs:{label:"过去12个月的版税(平均)："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.lastYearAverageRoyalties,callback:function(a){t.$set(t.saveCopyrightParams,"lastYearAverageRoyalties",a)},expression:"saveCopyrightParams.lastYearAverageRoyalties"}})],1),t._v(" "),e("FormItem",{attrs:{label:"作曲家："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.songwriter,callback:function(a){t.$set(t.saveCopyrightParams,"songwriter",a)},expression:"saveCopyrightParams.songwriter"}})],1),t._v(" "),e("FormItem",{attrs:{label:"编曲："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.arranger,callback:function(a){t.$set(t.saveCopyrightParams,"arranger",a)},expression:"saveCopyrightParams.arranger"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版税经销商："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.royaltyDistributor,callback:function(a){t.$set(t.saveCopyrightParams,"royaltyDistributor",a)},expression:"saveCopyrightParams.royaltyDistributor"}})],1),t._v(" "),e("FormItem",{attrs:{label:"受托人："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.trustee,callback:function(a){t.$set(t.saveCopyrightParams,"trustee",a)},expression:"saveCopyrightParams.trustee"}})],1)],1)],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Details")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"来源："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.sources,callback:function(a){t.$set(t.saveCopyrightParams,"sources",a)},expression:"saveCopyrightParams.sources"}})],1),t._v(" "),e("FormItem",{attrs:{label:"复制权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rightToCopy,callback:function(a){t.$set(t.saveCopyrightParams,"rightToCopy",a)},expression:"saveCopyrightParams.rightToCopy"}})],1),t._v(" "),e("FormItem",{attrs:{label:"商业表现："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.commercialPerformences,callback:function(a){t.$set(t.saveCopyrightParams,"commercialPerformences",a)},expression:"saveCopyrightParams.commercialPerformences"}})],1),t._v(" "),e("FormItem",{attrs:{label:"公共传播权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.publicTransmissionRight,callback:function(a){t.$set(t.saveCopyrightParams,"publicTransmissionRight",a)},expression:"saveCopyrightParams.publicTransmissionRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"参展权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.exhibbitionRight,callback:function(a){t.$set(t.saveCopyrightParams,"exhibbitionRight",a)},expression:"saveCopyrightParams.exhibbitionRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"分发权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rightToDistribute,callback:function(a){t.$set(t.saveCopyrightParams,"rightToDistribute",a)},expression:"saveCopyrightParams.rightToDistribute"}})],1),t._v(" "),e("FormItem",{attrs:{label:"出租权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rentalRight,callback:function(a){t.$set(t.saveCopyrightParams,"rentalRight",a)},expression:"saveCopyrightParams.rentalRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"二级工作权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.secondaryWorkRight,callback:function(a){t.$set(t.saveCopyrightParams,"secondaryWorkRight",a)},expression:"saveCopyrightParams.secondaryWorkRight"}})],1)],1)],1),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{loading:t.loading.handleSubmit,type:"primary"},on:{click:function(a){return t.handleSubmit("saveCopyrightParams")}}},[t._v("保存\n            ")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"5px",width:"80px"},attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")])],1)],1),t._v(" "),e("br"),t._v(" "),e("br")],1)],1)],1)],1)},staticRenderFns:[]};var n=e("C7Lr")(s,o,!1,function(t){e("IjM8")},"data-v-c26f3068",null);a.default=n.exports}});
//# sourceMappingURL=17.a35a014bc24614198d61.js.map