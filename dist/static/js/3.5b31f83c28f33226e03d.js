webpackJsonp([3],{"9VyW":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("HzJ8"),o=r.n(a),l=r("g1HI"),n={name:"roleManagementAdd",data:function(){return{formValidate:{roleDesc:"",roleName:"",menuList:[]},ruleValidate:{roleName:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],roleDesc:[{required:!0,message:"The desc cannot be empty",trigger:"blur"}]}}},methods:{cancel:function(){this.$router.push("/roleManagement")},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.$refs.tree.getCheckedAndIndeterminateNodes(),a=[];if(0===r.length)return Object(l.j)(),!1;var n=!0,i=!1,s=void 0;try{for(var m,c=o()(r);!(n=(m=c.next()).done);n=!0){var d=m.value;a.push(d.permId.toString())}}catch(e){i=!0,s=e}finally{try{!n&&c.return&&c.return()}finally{if(i)throw s}}console.log("mm",a);var u=new FormData;u.append("permId",a),u.append("roleDesc",t.formValidate.roleDesc),u.append("roleName",t.formValidate.roleName),t.$axios.post("/api/role/addRole",u).then(function(e){console.log(e.data),"成功"===e.data.msg&&(Object(l.a)(),t.$router.push("/roleManagement"))})}else Object(l.e)()})},handleReset:function(e){this.$refs[e].resetFields()},listPerm:function(){var e=this;this.$axios.post("/api/perm/listPerm").then(function(t){console.log("/perm/listPerm",t.data),e.formValidate.menuList=t.data.data,function e(t){for(var r=0;r<t.length;r++)t[r].title=t[r].permName,t[r].children&&e(t[r].children)}(e.formValidate.menuList),console.log(e.formValidate.menuList)})}},mounted:function(){this.listPerm()}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",[r("Col",{attrs:{span:"12",offset:"6"}},[r("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-position":"top"}},[r("FormItem",{attrs:{label:"角色名称",prop:"roleName"}},[r("Input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.formValidate.roleName,callback:function(t){e.$set(e.formValidate,"roleName",t)},expression:"formValidate.roleName"}})],1),e._v(" "),r("FormItem",{attrs:{label:"角色描述",prop:"roleDesc"}},[r("Input",{attrs:{placeholder:"请输入角色描述"},model:{value:e.formValidate.roleDesc,callback:function(t){e.$set(e.formValidate,"roleDesc",t)},expression:"formValidate.roleDesc"}})],1),e._v(" "),r("FormItem",{attrs:{label:"权限",prop:"role"}},[r("Tree",{ref:"tree",attrs:{data:e.formValidate.menuList,"check-directly":"","show-checkbox":"",multiple:""}})],1),e._v(" "),r("FormItem",[r("Col",{attrs:{span:"12",offset:"6"}},[r("Button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("保存")]),e._v(" "),r("Button",{staticStyle:{width:"100px","margin-left":"8px"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var s=r("C7Lr")(n,i,!1,function(e){r("ZplE")},"data-v-62966fd8",null);t.default=s.exports},HzJ8:function(e,t,r){e.exports={default:r("gemP"),__esModule:!0}},ZplE:function(e,t){},f12E:function(e,t,r){var a=r("GutX"),o=r("H9Xk");e.exports=r("xhIC").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},gemP:function(e,t,r){r("ByWt"),r("Y2CS"),e.exports=r("f12E")}});
//# sourceMappingURL=3.5b31f83c28f33226e03d.js.map