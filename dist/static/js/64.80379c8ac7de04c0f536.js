webpackJsonp([64],{c7tb:function(t,e){},zBNI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"dealManagementAdd",data:function(){return{codeList:[],formValidate:{},ruleValidate:{copyrightId:[{required:!0,message:"请选择拍卖版权代码",trigger:"blur",type:"number"}],priceAccuracy:[{required:!0,message:"请填写价格精度",trigger:"blur",type:"number"}],minTransactionAmount:[{required:!0,message:"请填写单小交易金额",trigger:"blur",type:"number"}],minTransactionNumber:[{required:!0,message:"请填写单小交易数量",trigger:"blur",type:"number"}],handlingFee:[{required:!0,message:"请填写手续费",trigger:"blur",type:"number"}],openingPrice:[{required:!0,message:"请填写开盘价",trigger:"blur",type:"number"}]}}},methods:{cancel:function(){this.$router.push("/dealManagement")},handleSubmit:function(t){var e=this,a=new FormData,i=this;this.$refs[t].validate(function(t){t&&(i.codeList.forEach(function(t){t.copyrightId==e.formValidate.copyrightId&&(e.formValidate.copyrightCode=t.copyrightCode)}),a.append("id",e.formValidate.id),a.append("copyrightCode",e.formValidate.copyrightCode),a.append("copyrightId",e.formValidate.copyrightId),a.append("priceAccuracy",e.formValidate.priceAccuracy),a.append("minTransactionAmount",e.formValidate.minTransactionAmount),a.append("minTransactionNumber",e.formValidate.minTransactionNumber),a.append("handlingFee",e.formValidate.handlingFee),a.append("openingPrice",e.formValidate.openingPrice),i.$axios.post("/api/transactionCopyright/updateTransactionCopyright",a).then(function(t){i.$Message.success("编辑成功"),i.$router.go(-1)}))})},handleReset:function(t){this.$refs[t].resetFields()},getCode:function(){var t=this;this.$axios.get("/api/copyrightAuction/getCopyrightAuctionList").then(function(e){t.codeList=e.data.data})},getShowData:function(){var t=this;this.$axios.get("/api/transactionCopyright/getTransactionCopyrightById?id="+this.formValidate.id).then(function(e){t.formValidate=e.data.data})}},mounted:function(){this.formValidate.id=this.$route.query.id,this.getCode(),this.getShowData()}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Card",{attrs:{"dis-hover":""}},[a("Row",[a("Col",{attrs:{span:"20",offset:"1"}},[a("Form",{ref:"formValidate",attrs:{"label-position":"right","label-width":250,model:t.formValidate,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"拍卖版权代码：",prop:"copyrightId"}},[a("Select",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.formValidate.copyrightId,callback:function(e){t.$set(t.formValidate,"copyrightId",e)},expression:"formValidate.copyrightId"}},t._l(t.codeList,function(e,i){return a("Option",{key:e.copyrightId+i,attrs:{value:e.copyrightId}},[t._v(t._s(e.copyrightCode))])}),1)],1),t._v(" "),a("FormItem",{attrs:{label:"价格精度：",prop:"priceAccuracy"}},[a("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"number"},model:{value:t.formValidate.priceAccuracy,callback:function(e){t.$set(t.formValidate,"priceAccuracy",t._n(e))},expression:"formValidate.priceAccuracy"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("位小数")])])],1),t._v(" "),a("FormItem",{attrs:{label:"最小交易金额：",prop:"minTransactionAmount"}},[a("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"number"},model:{value:t.formValidate.minTransactionAmount,callback:function(e){t.$set(t.formValidate,"minTransactionAmount",t._n(e))},expression:"formValidate.minTransactionAmount"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("AP")])])],1),t._v(" "),a("FormItem",{attrs:{label:"最小交易数量：",prop:"minTransactionNumber"}},[a("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"number"},model:{value:t.formValidate.minTransactionNumber,callback:function(e){t.$set(t.formValidate,"minTransactionNumber",t._n(e))},expression:"formValidate.minTransactionNumber"}})],1),t._v(" "),a("FormItem",{attrs:{label:"手续费：",prop:"handlingFee"}},[a("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"number"},model:{value:t.formValidate.handlingFee,callback:function(e){t.$set(t.formValidate,"handlingFee",t._n(e))},expression:"formValidate.handlingFee"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("AP")])])],1),t._v(" "),a("FormItem",{attrs:{label:"开盘价：",prop:"openingPrice"}},[a("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"number"},model:{value:t.formValidate.openingPrice,callback:function(e){t.$set(t.formValidate,"openingPrice",t._n(e))},expression:"formValidate.openingPrice"}})],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"12",offset:"7"}},[a("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v(t._s(t.$t("button.save")))]),t._v(" "),a("Button",{staticStyle:{"margin-left":"5px",width:"80px"},attrs:{type:"default"},on:{click:t.cancel}},[t._v(t._s(t.$t("button.cancel")))])],1)],1)],1)],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(i,r,!1,function(t){a("c7tb")},"data-v-2566d798",null);e.default=n.exports}});
//# sourceMappingURL=64.80379c8ac7de04c0f536.js.map