webpackJsonp([22],{XYGx:function(t,e){},dP2f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("r2eL"),r={name:"dealManagement",data:function(){var t=this;return{total:0,search:{currPage:1,pageSize:10,tradingStatus:2,Keyword:""},columns2:[{title:"版权代码",key:"copyrightCode",align:"center"},{title:"版权名称",key:"copyrightId",align:"center"},{title:"国家",key:"countryName",align:"center"},{title:"交易状态",key:"isOpen",align:"center",render:function(t,e){return t("span",{},0==e.row.isOpen?"关闭":1==e.row.isOpen?"开启":"")}},{title:"排序",key:"address",align:"center",render:function(e,a){return e("span",{},[e("a",{style:{color:"blue",display:0==a.index?"none":"block"},on:{click:function(){Object(n.a)("/api/transactionCopyright/moveTransactionCopyright",a.row.id,1).then(function(e){t.$Message.success("上移成功"),t.toSearch()})}}},t.$t("button.moveUp")),e("a",{style:{color:"blue",marginLeft:"5px",display:a.index==t.data1.length-1?"none":"block"},on:{click:function(){Object(n.a)("/api/transactionCopyright/moveTransactionCopyright",a.row.id,2).then(function(e){t.$Message.success("下移成功"),t.toSearch()})}}},t.$t("button.moveDown")),e("a",{style:{color:"blue",marginLeft:"5px",display:0==a.index?"none":"block"},on:{click:function(){Object(n.a)("/api/transactionCopyright/moveTransactionCopyright",a.row.id,3).then(function(e){t.$Message.success("置顶成功"),t.toSearch()})}}},t.$t("button.top"))])}},{title:"操作",key:"address",align:"center",render:function(e,a){return e("span",{},[e("a",{style:{color:"blue",marginLeft:"5px"},on:{click:function(){t.$router.push({path:"/dealManagementDelete",query:{id:a.row.id}})}}},t.$t("button.delete")),e("a",{style:{color:"blue",marginLeft:"5px"},on:{click:function(){t.$router.push({path:"/dealManagementChangeStatus",query:{id:a.row.id,status:a.row.isOpen}})}}},0==a.row.isOpen?"开启交易":1==a.row.isOpen?"关闭交易":""),e("a",{style:{color:"blue",marginLeft:"5px"},on:{click:function(){console.log("编辑"),t.$router.push({path:"/dealManagementEdit",query:{id:a.row.id}})}}},t.$t("button.edit"))])}}],columns1:[{title:"序号",key:"name",align:"center"},{title:"国家名称",key:"age",align:"center"},{title:"排序",key:"address",align:"center"},{title:"操作",key:"address",align:"center",render:function(e,a){return e("span",{},[e("a",{style:{color:"blue"},on:{click:function(){console.log("delete"),t.$router.push("/dealManagementDelete")}}},"删除")])}}],data1:[]}},beforeRouteUpdate:function(t,e,a){"dealManagementDelete"!==e.name&&"dealManagementChangeStatus"!==e.name||this.toSearch(),a()},methods:{addAuction:function(){this.$router.push("/dealManagementAdd")},toSearch:function(){var t=new FormData;t.append("currPage",this.search.currPage),t.append("pageSize",this.search.pageSize),this.search.Keyword&&t.append("Keyword",this.search.Keyword),2!=this.search.tradingStatus&&t.append("tradingStatus",this.search.tradingStatus),this.getData(t)},getData:function(t){var e=this;this.$axios.post("/api/transactionCopyright/getTransactionCopyrightByPage",t).then(function(t){t.data.data?(e.data1=t.data.data.list,e.total=t.data.data.Total):(e.data1=[],e.total=0)})}},mounted:function(){this.getData()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",[a("Col",{attrs:{span:"24"}},[a("Card",{attrs:{"dis-hover":""}},[a("Row",[a("Col",{attrs:{span:"20"}},[a("span",[t._v("关键字：")]),t._v(" "),a("Input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请输入版权关键字"},model:{value:t.search.Keyword,callback:function(e){t.$set(t.search,"Keyword",e)},expression:"search.Keyword"}}),t._v(" "),a("span",[t._v("交易状态：")]),t._v(" "),a("Select",{staticStyle:{width:"100px","margin-right":"10px"},model:{value:t.search.tradingStatus,callback:function(e){t.$set(t.search,"tradingStatus",e)},expression:"search.tradingStatus"}},[a("Option",{attrs:{value:"2"}},[t._v("全部")]),t._v(" "),a("Option",{attrs:{value:"1"}},[t._v("开启")]),t._v(" "),a("Option",{attrs:{value:"0"}},[t._v("关闭")])],1),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.toSearch}},[t._v(t._s(t.$t("button.search")))])],1),t._v(" "),a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[a("Button",{attrs:{type:"primary"},on:{click:t.addAuction}},[t._v(t._s(t.$t("button.add")))])],1)],1),t._v(" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("版权列表")]),t._v(" "),a("Row",[a("Table",{attrs:{border:"",columns:t.columns2,data:t.data1}})],1),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"24"}},[a("Page",{attrs:{total:t.total,"show-total":"","show-sizer":"","show-elevator":""}})],1)],1)],1)],1)],1),t._v(" "),a("router-view")],1)},staticRenderFns:[]};var i=a("C7Lr")(r,o,!1,function(t){a("XYGx")},"data-v-9792fb74",null);e.default=i.exports}});
//# sourceMappingURL=22.a2dc7f922b47ad1e90f1.js.map