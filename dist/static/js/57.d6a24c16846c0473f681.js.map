{"version":3,"sources":["webpack:///src/components/page/contentManagement/newsManagement.vue","webpack:///./src/components/page/contentManagement/newsManagement.vue?f367","webpack:///./src/components/page/contentManagement/newsManagement.vue"],"names":["newsManagement","name","data","_this","this","page","pageSize","total","list","columns","title","key","align","width","renderHeader","h","params","$t","render","domProps","src","row","newsImgUrl","style","marginTop","color","display","justify-content","cursor","on","click","Object","move","id","then","res","$Message","success","getData","$router","push","path","query","beforeRouteUpdate","to","from","next","methods","changePage","changePageSize","goAdd","_this2","form","FormData","append","$axios","post","records","forEach","item","time","$tool","date","format","Date","createTimeLong","mounted","contentManagement_newsManagement","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","text-align","attrs","span","margin-right","type","_v","_s","border","show-total","show-elevator","show-sizer","on-change","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/57.d6a24c16846c0473f681.js","sourcesContent":["<template>\n  <div class=\"content\">\n    <Row>\n      <Col span=\"24\" style=\"text-align:right;\">\n        <Button type=\"primary\" style=\"margin-right:20px;\" @click=\"goAdd\">{{$t('button.add')}}</Button>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col>\n        <Table :columns=\"columns\" border :data=\"list\"></Table>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col span=\"24\" style=\"text-align:right;\">\n        <Page :total=\"total\" show-total show-elevator show-sizer @on-change='changePage' @on-page-size-change='changePageSize'/>\n      </Col>\n    </Row>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport { move } from '@/assets/js/move';\nexport default {\n  name: \"userStatistics\",\n  data() {\n    let _this = this;\n    return {\n      page:1,\n      pageSize:10,\n      total:0,\n      list: [],\n      columns: [\n        {\n          title: \"\",\n          key: \"sort\",\n          align: \"center\",\n          width:100,\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"news.sort\"));\n          }\n        },\n        {\n          title: \"\",\n          key: \"newsTittle\",\n          align: \"center\",\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"news.title\"));\n          }\n        },\n        {\n          title: \"\",\n          key: \"name\",\n          align: \"center\",\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"news.img\"));\n          },\n          render:function(h,params){\n            return h('img',{\n             domProps: {\n                src: params.row.newsImgUrl\n              },\n              style: {\n                width: \"60%\",\n                marginTop: \"5px\"\n              }\n            })\n          }\n        },\n        {\n          title: \"\",\n          key: \"time\",\n          align: \"center\",\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"news.uploadTime\"));\n          }\n        },\n        {\n          title: \"\",\n          key: \"adminId\",\n          align: \"center\",\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"news.manageId\"));\n          }\n        },\n        {\n          title: \"\",\n          key: \"name\",\n          align: \"center\",\n          width:200,\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"public.move\"));\n          },\n          render: function(h, params) {\n            return h(\n              \"div\",\n              {\n                style: {\n                  color: \"#2d8cf0\",\n                  display: \"flex\",\n                  \"justify-content\": \"space-around\"\n                }\n              },\n              [\n                h(\n                  \"span\",\n                  {\n                    style: {\n                      cursor:'pointer'\n                    },\n                    on: {\n                      click: () => {\n                       move('/api/news/move',params.row.id,1).then(res=>{\n                          _this.$Message.success('上移成功')\n                            _this.getData();\n                        })\n                      }\n                    }\n                  },\n                  _this.$t(\"button.moveUp\")\n                ),\n                h(\"span\", {}, \"|\"),\n                h(\n                  \"span\",\n                  {\n                    style: {\n                      cursor:'pointer'\n                    },\n                    on: {\n                      click: () => {\n                         move('/api/news/move',params.row.id,2).then(res=>{\n                          _this.$Message.success('下移成功')\n                            _this.getData();\n                        })\n                      }\n                    }\n                  },\n                  _this.$t(\"button.moveDown\")\n                )\n              ]\n            );\n          }\n        },\n        {\n          title: \"\",\n          key: \"name\",\n          align: \"center\",\n          width:150,\n          renderHeader: function(h, params) {\n            return h(\"span\", {}, _this.$t(\"public.action\"));\n          },\n          render: function(h, params) {\n            return h(\n              \"div\",\n              {\n                style: {\n                  color: \"#2d8cf0\",\n                  display: \"flex\",\n                  \"justify-content\": \"space-around\"\n                }\n              },\n              [\n                h(\n                  \"span\",\n                  {\n                    style: {\n                      cursor:'pointer'\n                    },\n                    on: {\n                      click: () => {\n                        _this.$router.push({\n                          path: \"/editNews\",\n                          query: {\n                            id:params.row.id\n                          }\n                        });\n                      }\n                    }\n                  },\n                  _this.$t(\"button.edit\")\n                ),\n                h(\"span\", {}, \"|\"),\n                h(\n                  \"span\",\n                  {\n                    style: {\n                      cursor:'pointer'\n                    },\n                    on: {\n                      click: () => {\n                        _this.$router.push({\n                          path:'/newsManagementDelete',\n                          query:{\n                            id:params.row.id\n                          }\n                        })\n                      }\n                    }\n                  },\n                  _this.$t(\"button.delete\")\n                )\n              ]\n            );\n          }\n        }\n      ]\n    };\n  },\n  beforeRouteUpdate(to, from, next) {\n    if (from.name === \"newsManagementDelete\") {\n      this.getData();\n    }\n    next();\n  },\n  methods: {\n    changePage(page){\n      this.page = page\n      this.getData()\n    },\n    changePageSize(pageSize){\n      this.pageSize = pageSize\n      this.getData()\n    },\n    goAdd() {\n      this.$router.push(\"/addNews\");\n    },\n    getData(){\n      let form = new FormData()\n      form.append('page',this.page)\n      form.append('pageSize',this.pageSize)\n      this.$axios.post('/api/news/getNews',form)\n      .then(res=>{\n        this.list = res.data.data.records\n        this.total = res.data.data.total\n        this.list.forEach(item=>{\n          item.time = this.$tool.date.format(new Date(item.createTimeLong),\"yyyy/MM/dd hh:mm:ss\")\n        })\n      })\n    }\n  },\n  mounted() {\n    this.getData()\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/contentManagement/newsManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"24\"}},[_c('Button',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goAdd}},[_vm._v(_vm._s(_vm.$t('button.add')))])],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',[_c('Table',{attrs:{\"columns\":_vm.columns,\"border\":\"\",\"data\":_vm.list}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"24\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-411877e0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/contentManagement/newsManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-411877e0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./newsManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newsManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newsManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-411877e0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./newsManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-411877e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/contentManagement/newsManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}