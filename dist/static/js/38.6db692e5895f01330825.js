webpackJsonp([38],{"2V29":function(t,a){},uzyj:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("InnB"),i=e("g1HI"),o={name:"copyrightManagementAdd",data:function(){return{country:[],loading:{handleSubmit1:!1,handleSubmit:!1},type:0,saveCopyrightCountryParams:{countryName:"",url:""},saveCopyrightParams:{copyrightImg:""},ruleValidate:{artist:[{required:!0,message:"The artist cannot be empty",trigger:"blur"}],composer:[{required:!0,message:"The composer cannot be empty",trigger:"blur"}],copyrightCode:[{required:!0,message:"The copyrightCode cannot be empty",trigger:"blur"}],copyrightCountryId:[{required:!0,type:"number",message:"Please select the copyrightCountry",trigger:"change"}],copyrightImg:[{required:!0,message:"The copyrightImg cannot be empty",trigger:"blur"}],copyrightIntroduction:[{required:!0,message:"The copyrightIntroduction cannot be empty",trigger:"blur"}],copyrightName:[{required:!0,message:"The copyrightName cannot be empty",trigger:"blur"}],time:[{required:!0,type:"date",message:"The time cannot be empty",trigger:"blur"}]},ruleValidate2:{countryName:[{required:!0,message:"The countryName cannot be empty",trigger:"blur"}],url:[{required:!0,message:"The url cannot be empty",trigger:"blur"}]}}},methods:{cancel:function(){this.$router.push("/copyrightManagement")},uploadImage2:function(){var t=this,a=document.getElementById("uploadImage2");a.click(),a.onchange=function(){console.log("change",this);var a=new FormData;a.append("img",this.files[0]),t.$axios.post("/api/upload/image",a).then(function(a){console.log(a.data.data[0]),t.saveCopyrightCountryParams.url=a.data.data[0]})}},uploadImage:function(){var t=this,a=document.getElementById("uploadImage");a.click(),a.onchange=function(){console.log("change",this);var a=new FormData;a.append("img",this.files[0]),t.$axios.post("/api/upload/image",a).then(function(a){console.log(a.data.data[0]),t.saveCopyrightParams.copyrightImg=a.data.data[0]})}},handleSubmit1:function(t){var a=this;this.loading.handleSubmit1=!0,this.$refs[t].validate(function(t){t?a.saveCopyrightCountry():(a.loading.handleSubmit1=!1,a.$Message.error("表单验证失败!"))})},handleSubmit:function(t){var a=this;this.loading.handleSubmit=!0,console.log(this.saveCopyrightParams,Object(r.c)(this.saveCopyrightParams.time.valueOf())),this.$refs[t].validate(function(t){t?(a.saveCopyrightParams.time=Object(r.c)(a.saveCopyrightParams.time.valueOf()),a.saveCopyright()):(a.loading.handleSubmit=!1,a.$Message.error("表单验证失败!"))})},saveCopyrightCountry:function(){var t=this,a=new FormData;a.append("countryName",this.saveCopyrightCountryParams.countryName),a.append("url",this.saveCopyrightCountryParams.url),this.$axios.post("/api/copyrightCountry/saveCopyrightCountry",a).then(function(a){console.log("/api/copyrightCountry/saveCopyrightCountry",a.data),"成功"===a.data.msg&&(Object(i.a)(),t.loading.handleSubmit1=!1,t.$router.push("/copyrightManagement"))})},saveCopyright:function(){var t=this,a=new FormData;for(var e in this.saveCopyrightParams)a.append(e,this.saveCopyrightParams[e]);this.$axios.post("/api/copyright/saveCopyright",a).then(function(a){t.loading.handleSubmit=!1,console.log(a.data),Object(i.a)(),t.$router.push("/copyrightManagement")})}},mounted:function(){this.type=this.$route.params.type,2===this.type&&(this.country=this.$route.params.country,console.log(this.country))}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[1===t.type?e("Row",[e("Form",{ref:"saveCopyrightCountryParams",attrs:{model:t.saveCopyrightCountryParams,rules:t.ruleValidate2,"label-width":250}},[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("基本信息")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"国家名称：",prop:"countryName"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightCountryParams.countryName,callback:function(a){t.$set(t.saveCopyrightCountryParams,"countryName",a)},expression:"saveCopyrightCountryParams.countryName"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权图片：",prop:"url"}},[e("div",{staticStyle:{width:"40%","min-width":"300px",height:"100px",background:"#515a6e url('http://client.yimei.talkingcake.cn/img/erweima.gif') no-repeat 4px 5px"},on:{click:t.uploadImage2}}),t._v(" "),e("input",{staticStyle:{opacity:"0"},attrs:{id:"uploadImage2",type:"file"}})])],1)],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{loading:t.loading.handleSubmit1,type:"primary"},on:{click:function(a){return t.handleSubmit1("saveCopyrightCountryParams")}}},[t._v("保存")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"5px",width:"80px"},attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")])],1)],1),t._v(" "),e("br"),t._v(" "),e("br")],1)],1)],1):t._e(),t._v(" "),2===t.type?e("Row",[e("Form",{ref:"saveCopyrightParams",attrs:{model:t.saveCopyrightParams,rules:t.ruleValidate,"label-width":250}},[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("基本信息")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"版权代码：",prop:"copyrightCode"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightCode,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightCode",a)},expression:"saveCopyrightParams.copyrightCode"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权名称：",prop:"copyrightName"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightName,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightName",a)},expression:"saveCopyrightParams.copyrightName"}})],1),t._v(" "),e("FormItem",{attrs:{label:"国家：",prop:"copyrightCountryId"}},[e("Select",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.copyrightCountryId,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightCountryId",a)},expression:"saveCopyrightParams.copyrightCountryId"}},t._l(t.country,function(a){return e("Option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.countryName))])}),1)],1),t._v(" "),e("FormItem",{attrs:{label:"艺术家：",prop:"artist"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.artist,callback:function(a){t.$set(t.saveCopyrightParams,"artist",a)},expression:"saveCopyrightParams.artist"}})],1),t._v(" "),e("FormItem",{attrs:{label:"作曲家：",prop:"composer"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.composer,callback:function(a){t.$set(t.saveCopyrightParams,"composer",a)},expression:"saveCopyrightParams.composer"}})],1),t._v(" "),e("FormItem",{attrs:{label:"发行日期：",prop:"time"}},[e("DatePicker",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"date",placeholder:""},model:{value:t.saveCopyrightParams.time,callback:function(a){t.$set(t.saveCopyrightParams,"time",a)},expression:"saveCopyrightParams.time"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权简介：",prop:"copyrightIntroduction"}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:""},model:{value:t.saveCopyrightParams.copyrightIntroduction,callback:function(a){t.$set(t.saveCopyrightParams,"copyrightIntroduction",a)},expression:"saveCopyrightParams.copyrightIntroduction"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版权图片：",prop:"copyrightImg"}},[e("div",{staticStyle:{width:"40%","min-width":"300px",height:"100px",background:"#515a6e url('http://client.yimei.talkingcake.cn/img/erweima.gif') no-repeat 4px 5px"},on:{click:t.uploadImage}}),t._v(" "),e("input",{staticStyle:{opacity:"0"},attrs:{id:"uploadImage",type:"file"}})])],1)],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Information")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"专业术语："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.term,callback:function(a){t.$set(t.saveCopyrightParams,"term",a)},expression:"saveCopyrightParams.term"}})],1),t._v(" "),e("FormItem",{attrs:{label:"过去12个月的版税(平均)："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.lastYearAverageRoyalties,callback:function(a){t.$set(t.saveCopyrightParams,"lastYearAverageRoyalties",a)},expression:"saveCopyrightParams.lastYearAverageRoyalties"}})],1),t._v(" "),e("FormItem",{attrs:{label:"作曲家："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.songwriter,callback:function(a){t.$set(t.saveCopyrightParams,"songwriter",a)},expression:"saveCopyrightParams.songwriter"}})],1),t._v(" "),e("FormItem",{attrs:{label:"编曲："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.arranger,callback:function(a){t.$set(t.saveCopyrightParams,"arranger",a)},expression:"saveCopyrightParams.arranger"}})],1),t._v(" "),e("FormItem",{attrs:{label:"版税经销商："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.royaltyDistributor,callback:function(a){t.$set(t.saveCopyrightParams,"royaltyDistributor",a)},expression:"saveCopyrightParams.royaltyDistributor"}})],1),t._v(" "),e("FormItem",{attrs:{label:"受托人："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.trustee,callback:function(a){t.$set(t.saveCopyrightParams,"trustee",a)},expression:"saveCopyrightParams.trustee"}})],1)],1)],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"24"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("Details")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20",offset:"1"}},[e("FormItem",{attrs:{label:"来源："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.sources,callback:function(a){t.$set(t.saveCopyrightParams,"sources",a)},expression:"saveCopyrightParams.sources"}})],1),t._v(" "),e("FormItem",{attrs:{label:"复制权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rightToCopy,callback:function(a){t.$set(t.saveCopyrightParams,"rightToCopy",a)},expression:"saveCopyrightParams.rightToCopy"}})],1),t._v(" "),e("FormItem",{attrs:{label:"商业表现："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.commercialPerformences,callback:function(a){t.$set(t.saveCopyrightParams,"commercialPerformences",a)},expression:"saveCopyrightParams.commercialPerformences"}})],1),t._v(" "),e("FormItem",{attrs:{label:"公共传播权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.publicTransmissionRight,callback:function(a){t.$set(t.saveCopyrightParams,"publicTransmissionRight",a)},expression:"saveCopyrightParams.publicTransmissionRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"参展权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.exhibbitionRight,callback:function(a){t.$set(t.saveCopyrightParams,"exhibbitionRight",a)},expression:"saveCopyrightParams.exhibbitionRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"分发权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rightToDistribute,callback:function(a){t.$set(t.saveCopyrightParams,"rightToDistribute",a)},expression:"saveCopyrightParams.rightToDistribute"}})],1),t._v(" "),e("FormItem",{attrs:{label:"出租权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.rentalRight,callback:function(a){t.$set(t.saveCopyrightParams,"rentalRight",a)},expression:"saveCopyrightParams.rentalRight"}})],1),t._v(" "),e("FormItem",{attrs:{label:"二级工作权："}},[e("Input",{staticStyle:{width:"40%","min-width":"300px"},model:{value:t.saveCopyrightParams.secondaryWorkRight,callback:function(a){t.$set(t.saveCopyrightParams,"secondaryWorkRight",a)},expression:"saveCopyrightParams.secondaryWorkRight"}})],1)],1)],1),t._v(" "),e("Row",[e("Col",{attrs:{span:"12",offset:"7"}},[e("Button",{staticStyle:{"margin-right":"5px",width:"80px"},attrs:{loading:t.loading.handleSubmit,type:"primary"},on:{click:function(a){return t.handleSubmit("saveCopyrightParams")}}},[t._v("保存")]),t._v(" "),e("Button",{staticStyle:{"margin-left":"5px",width:"80px"},attrs:{type:"default"},on:{click:t.cancel}},[t._v("取消")])],1)],1),t._v(" "),e("br"),t._v(" "),e("br")],1)],1)],1):t._e()],1)},staticRenderFns:[]};var n=e("C7Lr")(o,s,!1,function(t){e("2V29")},"data-v-67a63e96",null);a.default=n.exports}});
//# sourceMappingURL=38.6db692e5895f01330825.js.map