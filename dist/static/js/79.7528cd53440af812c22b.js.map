{"version":3,"sources":["webpack:///src/components/page/tradeManagement/participationInProfitManagement.vue","webpack:///./src/components/page/tradeManagement/participationInProfitManagement.vue?24f6","webpack:///./src/components/page/tradeManagement/participationInProfitManagement.vue"],"names":["participationInProfitManagement","name","data","_this","this","style1","color","symbol","participation","month","Date","page","pageSize","total","columns","title","key","align","render","h","param","list","push","style","on","click","$router","path","query","id","row","margin-left","form","FormData","append","$axios","post","then","res","console","log","option1","disabledDate","date","valueOf","now","methods","getParticipation","_this2","getFullYear","Number","getMonth","toString","typeof_default","create","params","type","edit","lastMonth","cursor","nextMonth","date1","date3","time4","changePage","changePageSize","mounted","tradeManagement_participationInProfitManagement","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","_v","staticStyle","width","format","placeholder","model","value","callback","$$v","$set","expression","_s","$t","length","_e","border","text-align","show-total","show-sizer","show-elevator","on-change","on-page-size-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/79.7528cd53440af812c22b.js","sourcesContent":["<template>\n  <div class=\"content\">\n    <Row>\n      <Col span=\"24\">\n        <span>分红月份：</span>\n        <DatePicker\n          type=\"month\"\n          format=\"yyyy-MM\"\n          v-model=\"participation.month\"\n          placeholder=\"select month\"\n          style=\"width: 180px\"\n        ></DatePicker>\n        <span @click=\"lastMonth\" style=\"color:blue;cursor:pointer\">上一月</span>\n        <span @click=\"nextMonth\" :style=\"style1\">下一月</span>\n        <Button type=\"primary\" @click=\"create\">{{$t('button.create')}}</Button>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col span=\"24\">\n        <!-- <span>发放时间：2019/10/05 19:00</span>\n        <span style=\"color:red\">未发放</span>\n        <Button type=\"primary\" @click=\"edit\">修改</Button> -->\n        <span v-if=\"symbol.length==0\" style=\"color:red\">该月分红尚未创建</span>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col style=\"width:100%;\">\n        <Table :columns=\"columns\" :data=\"symbol\" border></Table>\n      </Col>\n    </Row>\n    <br />\n    <Row>\n      <Col span=\"24\" style=\"text-align:right;\">\n        <Page\n          :total=\"total\"\n          show-total\n          show-sizer\n          show-elevator\n          @on-change=\"changePage\"\n          @on-page-size-change=\"changePageSize\"\n        />\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\nimport { Form } from 'iview';\nexport default {\n  name: \"participationInProfitManagement\",\n  data() {\n    let _this = this;\n    return {\n      style1:{color:\"#ccc\"},\n      symbol: [],\n      participation: {\n        month: new Date(),\n        page: 1,\n        pageSize: 10\n      },\n      total: 0,\n      columns: [\n        {\n          title: \"版权代码\",\n          key: \"copyrightCode\",\n          align: \"center\"\n        },\n        {\n          title: \"版权名称\",\n          key: \"copyrightName\",\n          align: \"center\"\n        },\n        {\n          title: \"分红总额\",\n          key: \"troops\",\n          align: \"center\"\n        },\n        {\n          title: \"分红用户数\",\n          key: \"userNumber\",\n          align: \"center\"\n        },\n        {\n          title: \"操作\",\n          align: \"center\",\n          render(h, param) {\n            let list = []\n            list.push(h(\n                \"a\",\n                {\n                  style: { color: \"blue\" },\n                  on: {\n                    click() {\n                      _this.$router.push({\n                        path: \"/participationInProfitDetail\",\n                        query: {\n                          id: param.row.id\n                        }\n                      });\n                    }\n                  }\n                },\n                \"查看明细\"\n              ))\n            if(_this.style1.color != '#ccc'){\n              list.push(h(\n              \"a\",\n              {\n                  style: { color: \"blue\" , \"margin-left\":\"15px\"},\n                  on: {\n                    click() {\n                      let form = new FormData()\n                      form.append('id',param.row.id)\n                      _this.$axios.post('/api/copyrightProfit/shareOutBonus',form).then(res=>{\n                        console.log(res)\n                      })\n                    }\n                  }\n                },\n                \"发放\"\n            ))\n            }\n            return h(\"span\", {},list);\n          }\n        }\n      ],\n      option1: [\n        {\n          disabledDate(date) {\n            return date && date.valueOf() >= Date.now() - 86400000;\n          }\n        }\n      ]\n    };\n  },\n  methods: {\n    getParticipation() {\n      let form = new FormData();\n      form.append(\"page\", this.participation.page);\n      form.append(\"pageSize\", this.participation.pageSize);\n      let date = new Date(this.participation.month);  \n      let month = date.getFullYear()+'-'+Number(date.getMonth()+1).toString()\n      console.log(month);\n      console.log(typeof(month))\n      form.append(\"yearMonth\", month);\n      this.$axios\n        .post(\"/api/copyrightProfit/getCopyrightProfitByPage\", form)\n        .then(res => {\n          this.symbol = res.data.data.list;\n          this.total = res.data.data.total\n          console.log(this.symbol);\n          console.log(res.data.data);\n        });\n    },\n    create() {\n      this.$router.push({\n        name: \"participationInProfitCreate\",\n        params: { type: 1 }\n      });\n    },\n    edit() {\n      this.$router.push({\n        name: \"participationInProfitEdit\",\n        params: { type: 1 }\n      });\n    },\n    lastMonth() {\n      this.style1 = {color:\"blue\",\"cursor\":\"pointer\"}\n      let month = new Date(this.participation.month);\n      this.participation.month = month.getFullYear()+'-'+month.getMonth();\n      this.getParticipation()\n    },\n    nextMonth() {\n      let date = new Date();\n      let date1 = new Date(this.participation.month);\n      let time1 = date1.getFullYear()+'-'+date1.getMonth();\n      let time2 = date.getFullYear()+'-'+date.getMonth();\n      if(time1 == time2){\n        this.style1 = {color:\"#ccc\"};\n        return;\n      }else{\n        this.style1 = {color:\"blue\",\"cursor\":\"pointer\"}\n        this.participation.month = date1.getFullYear() + '-' + (date1.getMonth()+2);\n        let date3 = new Date();\n        let time4 = date3.getFullYear()+'-'+(date3.getMonth()+1);\n        if(this.participation.month === time4){\n          this.style1 = {color:\"#ccc\"};\n        }\n        console.log(this.participation.month);\n        this.getParticipation()\n      }\n    },\n    changePage(page) {\n      this.participation.page = page;\n      this.getParticipation();\n    },\n    changePageSize(pageSize) {\n      this.participation.pageSize = pageSize;\n      this.getParticipation();\n    }\n  },\n  mounted() {\n    this.getParticipation();\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/page/tradeManagement/participationInProfitManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"content\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[_c('span',[_vm._v(\"分红月份：\")]),_vm._v(\" \"),_c('DatePicker',{staticStyle:{\"width\":\"180px\"},attrs:{\"type\":\"month\",\"format\":\"yyyy-MM\",\"placeholder\":\"select month\"},model:{value:(_vm.participation.month),callback:function ($$v) {_vm.$set(_vm.participation, \"month\", $$v)},expression:\"participation.month\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"blue\",\"cursor\":\"pointer\"},on:{\"click\":_vm.lastMonth}},[_vm._v(\"上一月\")]),_vm._v(\" \"),_c('span',{style:(_vm.style1),on:{\"click\":_vm.nextMonth}},[_vm._v(\"下一月\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(_vm._s(_vm.$t('button.create')))])],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"24\"}},[(_vm.symbol.length==0)?_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"该月分红尚未创建\")]):_vm._e()])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"width\":\"100%\"}},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.symbol,\"border\":\"\"}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":\"24\"}},[_c('Page',{attrs:{\"total\":_vm.total,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.changePage,\"on-page-size-change\":_vm.changePageSize}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0eb0334c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/tradeManagement/participationInProfitManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0eb0334c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./participationInProfitManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./participationInProfitManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./participationInProfitManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0eb0334c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./participationInProfitManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0eb0334c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/tradeManagement/participationInProfitManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}