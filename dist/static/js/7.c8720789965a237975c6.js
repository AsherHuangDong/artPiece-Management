webpackJsonp([7],{ngYK:function(t,o){},sEcl:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("g1HI"),a={name:"copyrightManagement",data:function(){var t=this;return{moveCopyrightParams:{},getCopyrightAndCopyrightCountryByPageParams:{currPage:1,pageSize:10,Keyword:""},columns2:[{title:"版权代码",key:"copyrightCode",align:"center"},{title:"版权名称",key:"copyrightName",align:"center"},{title:"国家",key:"countryName",align:"center"},{title:"发行时间",key:"address",align:"center",render:function(t,o){var e="";return e+=o.row.publishTime[0]+"-",e+=o.row.publishTime[1]+"-",e+=o.row.publishTime[2]+" ",e+=o.row.publishTime[3]+":",o.row.publishTime[5]?(e+=o.row.publishTime[4]+":",e+=o.row.publishTime[5]):e+=o.row.publishTime[4],t("span",{},e)}},{title:"艺术家",key:"artist",align:"center"},{title:"作曲家",key:"composer",align:"center"},{title:"排序",key:"address",align:"center",render:function(o,e){var r=[],a=o("a",{style:{color:"blue"},on:{click:function(){console.log("up"),t.moveCopyright(e.row.id,1)}}},"上移"),i=o("a",{style:{color:"blue",marginLeft:"5px"},on:{click:function(){console.log("down"),t.moveCopyright(e.row.id,2)}}},"下移"),n=o("a",{style:{color:"blue",marginLeft:"5px"},on:{click:function(){console.log("head"),t.moveCopyright(e.row.id,3)}}},"置顶");return 0===e.row._index?r.push(i):e.row._index===t.data2.length-1?(r.push(a),r.push(n)):(r.push(a),r.push(i),r.push(n)),o("span",{},r)}},{title:"操作",key:"address",align:"center",render:function(o,e){return o("span",{},[o("a",{style:{color:"blue"},on:{click:function(){console.log("删除版权"),t.$router.push({name:"copyrightManagementDelete",params:{id:e.row.id,url:"/api/copyright/delCopyright?id="+e.row.id,callback:t.getCopyrightAndCopyrightCountryByPage,method:"delete"}})}}},"删除"),o("a",{style:{color:"blue"},on:{click:function(){console.log("信息编辑"),t.$router.push({name:"copyrightManagementEdit",params:{row:e.row,country:t.data1}})}}}," | 信息编辑 | "),o("a",{style:{color:"blue"},on:{click:function(){console.log("图表数据"),t.$router.push({name:"copyrightChartEditor",params:{row:e.row}})}}},"图表数据")])}}],columns1:[{title:"序号",align:"center",render:function(t,o){return t("span",{},o.row._index+1)}},{title:"国家名称",key:"countryName",align:"center"},{title:"排序",key:"sort",align:"center",render:function(o,e){var r=[],a=o("a",{style:{color:"blue"},on:{click:function(){console.log("上移"),t.moveCopyrightCountry({id1:e.row.id,id2:e.row.up})}}},"上移"),i=o("a",{style:{color:"blue"},on:{click:function(){console.log("下移"),t.moveCopyrightCountry({id1:e.row.id,id2:e.row.down})}}},"下移"),n=o("span",{}," | ");return 0===e.row._index?r.push(i):e.row._index===t.data1.length-1?r.push(a):(r.push(a),r.push(n),r.push(i)),o("span",{},r)}},{title:"操作",key:"address",align:"center",render:function(o,e){return o("span",{},[o("a",{style:{color:"blue"},on:{click:function(){console.log("删除国家！！！"),t.$router.push({name:"copyrightManagementDelete",params:{url:"/api/copyrightCountry/deleteCopyrightCountry",id:e.row.id,callback:t.getCopyrightCountryList}})}}},"删除")])}}],data1:[],data2:[]}},methods:{changePage:function(t){this.getCopyrightAndCopyrightCountryByPageParams.currPage=t,this.getCopyrightAndCopyrightCountryByPage()},sizeChange:function(t){this.getCopyrightAndCopyrightCountryByPageParams.currPage=1,this.getCopyrightAndCopyrightCountryByPageParams.pageSize=t,this.getCopyrightAndCopyrightCountryByPage()},getCopyrightAndCopyrightCountryByPage:function(){var t=this,o=new FormData;o.append("currPage",this.getCopyrightAndCopyrightCountryByPageParams.currPage),o.append("pageSize",this.getCopyrightAndCopyrightCountryByPageParams.pageSize),o.append("Keyword",this.getCopyrightAndCopyrightCountryByPageParams.Keyword),this.$axios.post("/api/copyright/getCopyrightAndCopyrightCountryByPage",o).then(function(o){console.log("/api/copyright/getCopyrightAndCopyrightCountryByPage",o.data);var e=o.data.data[1].length;t.getCopyrightAndCopyrightCountryByPageParams.total=o.data.data[1][e-1].total,t.data2=o.data.data[1],t.data2.splice(e-1,e)})},addCopyright:function(){this.$router.push({name:"copyrightManagementAdd",params:{type:2,country:this.data1}})},addCopyrightCountry:function(){this.$router.push({name:"copyrightManagementAdd",params:{type:1}})},moveCopyright:function(t,o){var e=this,r=new FormData;r.append("id",t),r.append("status",o),this.$axios.post("/api/copyright/moveCopyright",r).then(function(t){console.log("/api/copyright/moveCopyright",t.data),e.getCopyrightAndCopyrightCountryByPage()})},getCopyrightCountryList:function(){var t=this;this.$axios.get("/api/copyrightCountry/getCopyrightCountryList").then(function(o){console.log("/copyrightCountry/getCopyrightCountryList",o.data),t.data1=o.data.data,console.log(t.data1[0].sort);for(var e=0;e<t.data1.length;e++)for(var r=0;r<t.data1.length-e-1;r++)if(t.data1[r].sort>t.data1[r+1].sort){var a=t.data1[r].sort;t.data1[r].sort=t.data1[r+1].sort,t.data1[r+1].sort=a}for(var i=0;i<t.data1.length;i++)0===i?t.data1[i].down=t.data1[i+1].id:i!==t.data1.length-1?(t.data1[i].down=t.data1[i+1].id,t.data1[i].up=t.data1[i-1].id):t.data1[i].up=t.data1[i-1].id})},moveCopyrightCountry:function(t){var o=this,e=new FormData;e.append("id1",t.id1),e.append("id2",t.id2),this.$axios.post("/api/copyrightCountry/moveCopyrightCountry",e).then(function(t){console.log("/api/copyrightCountry/moveCopyrightCountry",t.data),0===t.data.code&&(Object(r.i)(),o.getCopyrightCountryList())})}},mounted:function(){this.getCopyrightCountryList(),this.getCopyrightAndCopyrightCountryByPage()}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("Row",[e("Col",{attrs:{span:"24"}},[e("Card",{attrs:{"dis-hover":""}},[e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"20"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("版权国家管理")])]),t._v(" "),e("Col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[e("Button",{attrs:{type:"primary"},on:{click:t.addCopyrightCountry}},[t._v("添加")])],1)],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Table",{attrs:{border:"",columns:t.columns1,data:t.data1}})],1),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("Row",{staticStyle:{"margin-top":"-10px"}},[e("Col",{staticStyle:{"line-height":"34px"},attrs:{span:"20"}},[e("div",{staticStyle:{display:"inline-block",height:"14px",border:"2px solid #515a6e","margin-right":"5px"}}),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("版权信息管理")])])],1),t._v(" "),e("Divider",{staticStyle:{margin:"10px 0"}}),t._v(" "),e("Row",[e("Col",{attrs:{span:"20"}},[e("span",[t._v("关键字：")]),t._v(" "),e("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入版权代码"},model:{value:t.getCopyrightAndCopyrightCountryByPageParams.Keyword,callback:function(o){t.$set(t.getCopyrightAndCopyrightCountryByPageParams,"Keyword",o)},expression:"getCopyrightAndCopyrightCountryByPageParams.Keyword"}}),t._v(" "),e("Button",{attrs:{type:"primary"},on:{click:t.getCopyrightAndCopyrightCountryByPage}},[t._v("搜索")])],1),t._v(" "),e("Col",{staticStyle:{"text-align":"right"},attrs:{span:"4"}},[e("Button",{attrs:{type:"primary"},on:{click:t.addCopyright}},[t._v("添加版权")])],1)],1),t._v(" "),e("br"),t._v(" "),e("span",{staticStyle:{"font-weight":"bold"}},[t._v("版权列表")]),t._v(" "),e("Row",[e("Table",{attrs:{border:"",columns:t.columns2,data:t.data2}})],1),t._v(" "),e("br"),t._v(" "),e("Row",[e("Col",{staticStyle:{"text-align":"center"},attrs:{span:"24"}},[e("Page",{attrs:{total:t.getCopyrightAndCopyrightCountryByPageParams.total,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":function(o){return t.changePage(o)},"on-page-size-change":function(o){return t.sizeChange(o)}}})],1)],1)],1)],1)],1),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var n=e("C7Lr")(a,i,!1,function(t){e("ngYK")},"data-v-f99a2622",null);o.default=n.exports}});
//# sourceMappingURL=7.c8720789965a237975c6.js.map